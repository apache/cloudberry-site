"use strict";(self.webpackChunkApache_Cloudberry_Incubating_website=self.webpackChunkApache_Cloudberry_Incubating_website||[]).push([[30699],{3769:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>d,toc:()=>c});var s=n(85893),r=n(11151);const l={title:"Stored Procedures and User-Defined Functions"},i="Stored Procedures and User-Defined Functions",d={id:"developer/functions-and-procedures/overview",title:"Stored Procedures and User-Defined Functions",description:"Apache Cloudberry provides powerful capabilities for extending the database functionality through Stored Procedures (SPs) and User-Defined Functions (UDFs).",source:"@site/docs/developer/functions-and-procedures/overview.md",sourceDirName:"developer/functions-and-procedures",slug:"/developer/functions-and-procedures/overview",permalink:"/docs/next/developer/functions-and-procedures/overview",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/cloudberry-site/edit/main/docs/developer/functions-and-procedures/overview.md",tags:[],version:"current",lastUpdatedBy:"TomShawn",lastUpdatedAt:1767860953,formattedLastUpdatedAt:"Jan 8, 2026",frontMatter:{title:"Stored Procedures and User-Defined Functions"},sidebar:"docsbars",previous:{title:"Use ODBC",permalink:"/docs/next/developer/use-odbc-driver"},next:{title:"Use PL/Container",permalink:"/docs/next/developer/functions-and-procedures/use-pl-container"}},o={},c=[{value:"User-Defined functions (UDFs)",id:"user-defined-functions-udfs",level:2},{value:"Stored procedures",id:"stored-procedures",level:2},{value:"Supported languages",id:"supported-languages",level:2}];function a(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"stored-procedures-and-user-defined-functions",children:"Stored Procedures and User-Defined Functions"}),"\n",(0,s.jsx)(t.p,{children:"Apache Cloudberry provides powerful capabilities for extending the database functionality through Stored Procedures (SPs) and User-Defined Functions (UDFs)."}),"\n",(0,s.jsx)(t.h2,{id:"user-defined-functions-udfs",children:"User-Defined functions (UDFs)"}),"\n",(0,s.jsx)(t.p,{children:"User-Defined Functions (UDFs) return values and can be used in queries. They allow you to bundle complex logic and calculations into reusable components."}),"\n",(0,s.jsx)(t.p,{children:"Apache Cloudberry supports several procedural languages for writing UDFs:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"PL/Python"}),": Write functions using Python 3. With the ",(0,s.jsx)(t.code,{children:"plpython3u"})," untrusted language, you can access system calls and external libraries."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.a,{href:"https://github.com/cloudberry-contrib/pljava",children:"PL/Java"})}),": Write functions using Java. Suitable for complex computations and integration with existing Java libraries."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"PL/Perl"}),": Write functions using Perl, leveraging its strong string manipulation capabilities."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.a,{href:"https://github.com/cloudberry-contrib/plcontainer",children:"PL/Container"})}),": Run Python and R functions securely inside Docker containers. This provides isolation and security for running untrusted code."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.a,{href:"https://github.com/cloudberry-contrib/plr",children:"PL/R"})}),": Write functions using the R statistical computing language. Ideal for advanced data analysis and statistical modeling."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"stored-procedures",children:"Stored procedures"}),"\n",(0,s.jsxs)(t.p,{children:["Stored Procedures are similar to functions but do not return a value. They are invoked using the ",(0,s.jsx)(t.code,{children:"CALL"})," command and can handle transaction control (e.g., ",(0,s.jsx)(t.code,{children:"COMMIT"}),", ",(0,s.jsx)(t.code,{children:"ROLLBACK"}),") within the procedure body, which is not allowed in functions."]}),"\n",(0,s.jsx)(t.h2,{id:"supported-languages",children:"Supported languages"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Language"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Extension"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Trusted or not"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"SQL"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Built-in"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Yes"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Write functions using standard SQL queries."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"PL/pgSQL"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Built-in"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Yes"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The procedural language for the PostgreSQL database system."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"PL/Python"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"plpython3u"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"No"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Python 3 procedural language."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"PL/Java"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"pljava"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Yes"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Java procedural language."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"PL/Perl"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"plperl"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Yes"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Perl procedural language."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"PL/R"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"plr"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"No"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"R procedural language."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"PL/Container"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"plcontainer"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Yes (Safe)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Run Python/R in Docker containers."})]})]})]})]})}function u(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},11151:(e,t,n)=>{n.d(t,{Z:()=>d,a:()=>i});var s=n(67294);const r={},l=s.createContext(r);function i(e){const t=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(l.Provider,{value:t},e.children)}}}]);