"use strict";(self.webpackChunkApache_Cloudberry_Incubating_website=self.webpackChunkApache_Cloudberry_Incubating_website||[]).push([[5392],{28494:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>l,frontMatter:()=>i,metadata:()=>d,toc:()=>c});var n=s(85893),r=s(11151);const i={title:"gp_pgdatabase"},a="gp_pgdatabase",d={id:"sys-catalogs/sys-views/gp-pgdatabase",title:"gp_pgdatabase",description:"The gp_pgdatabase view displays the status of Apache Cloudberry segment instances and whether they are acting as the mirror or the primary. The Apache Cloudberry fault detection and recovery utilities use this view internally to identify failed segments.",source:"@site/docs/sys-catalogs/sys-views/gp-pgdatabase.md",sourceDirName:"sys-catalogs/sys-views",slug:"/sys-catalogs/sys-views/gp-pgdatabase",permalink:"/docs/next/sys-catalogs/sys-views/gp-pgdatabase",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/cloudberry-site/edit/main/docs/sys-catalogs/sys-views/gp-pgdatabase.md",tags:[],version:"current",lastUpdatedBy:"Dianjin Wang",lastUpdatedAt:1749608415,formattedLastUpdatedAt:"Jun 11, 2025",frontMatter:{title:"gp_pgdatabase"},sidebar:"docsbars",previous:{title:"gp_endpoints",permalink:"/docs/next/sys-catalogs/sys-views/gp-endpoints"},next:{title:"gp_resgroup_iostats_per_host",permalink:"/docs/next/sys-catalogs/sys-views/gp-resgroup-iostats-per-host"}},o={},c=[];function h(e){const t={code:"code",em:"em",h1:"h1",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"gp_pgdatabase",children:"gp_pgdatabase"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"gp_pgdatabase"})," view displays the status of Apache Cloudberry segment instances and whether they are acting as the mirror or the primary. The Apache Cloudberry fault detection and recovery utilities use this view internally to identify failed segments."]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"column"}),(0,n.jsx)(t.th,{children:"type"}),(0,n.jsx)(t.th,{children:"references"}),(0,n.jsx)(t.th,{children:"description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"dbid"})}),(0,n.jsx)(t.td,{children:"smallint"}),(0,n.jsx)(t.td,{children:"gp_segment_configuration.dbid"}),(0,n.jsx)(t.td,{children:"System-assigned ID. The unique identifier of a segment (or coordinator) instance."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"isprimary"})}),(0,n.jsx)(t.td,{children:"boolean"}),(0,n.jsx)(t.td,{children:"gp_segment_configuration.role"}),(0,n.jsx)(t.td,{children:"Whether or not this instance is active. Is it currently acting as the primary segment (as opposed to the mirror)."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"content"})}),(0,n.jsx)(t.td,{children:"smallint"}),(0,n.jsx)(t.td,{children:"gp_segment_configuration.content"}),(0,n.jsxs)(t.td,{children:["The ID for the portion of data on an instance. A primary segment instance and its mirror will have the same content ID.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"For a segment the value is from 0-",(0,n.jsx)(t.em,{children:"N-1"}),", where ",(0,n.jsx)(t.em,{children:"N"})," is the number of segments in Apache Cloudberry.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"For the coordinator, the value is -1."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"valid"})}),(0,n.jsx)(t.td,{children:"boolean"}),(0,n.jsx)(t.td,{children:"gp_segment_configuration.mode"}),(0,n.jsxs)(t.td,{children:["Whether or not this instance is up and the mode is either ",(0,n.jsx)(t.em,{children:"s"})," (synchronized) or ",(0,n.jsx)(t.em,{children:"n"})," (not in sync)."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"definedprimary"})}),(0,n.jsx)(t.td,{children:"boolean"}),(0,n.jsx)(t.td,{children:"gp_segment_configuration.preferred_role"}),(0,n.jsx)(t.td,{children:"Whether or not this instance was defined as the primary (as opposed to the mirror) at the time the system was initialized."})]})]})]})]})}function l(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},11151:(e,t,s)=>{s.d(t,{Z:()=>d,a:()=>a});var n=s(67294);const r={},i=n.createContext(r);function a(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);