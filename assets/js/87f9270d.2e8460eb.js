"use strict";(self.webpackChunkApache_Cloudberry_Incubating_website=self.webpackChunkApache_Cloudberry_Incubating_website||[]).push([[92779],{88948:(t,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>l,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var r=s(85893),n=s(11151);const o={title:"gp_stat_progress_dtx_recovery"},i="gp_stat_progress_dtx_recovery",a={id:"sys-catalogs/sys-views/gp-stat-progress-dtx-recovery",title:"gp_stat_progress_dtx_recovery",description:"The gpstatprogressdtxrecovery view is a cluster-wide view that displays the progress of the Distributed Transaction (DTX) Recovery process, which runs in the backgroup during Postgres startup.",source:"@site/docs/sys-catalogs/sys-views/gp-stat-progress-dtx-recovery.md",sourceDirName:"sys-catalogs/sys-views",slug:"/sys-catalogs/sys-views/gp-stat-progress-dtx-recovery",permalink:"/docs/next/sys-catalogs/sys-views/gp-stat-progress-dtx-recovery",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/cloudberry-site/edit/main/docs/sys-catalogs/sys-views/gp-stat-progress-dtx-recovery.md",tags:[],version:"current",lastUpdatedBy:"Dianjin Wang",lastUpdatedAt:1749608415,formattedLastUpdatedAt:"Jun 11, 2025",frontMatter:{title:"gp_stat_progress_dtx_recovery"},sidebar:"docsbars",previous:{title:"gp_stat_archiver",permalink:"/docs/next/sys-catalogs/sys-views/gp-stat-archiver"},next:{title:"gp_suboverflowed_backend",permalink:"/docs/next/sys-catalogs/sys-views/gp-suboverflowed-backend"}},d={},c=[];function h(t){const e={code:"code",h1:"h1",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.a)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"gp_stat_progress_dtx_recovery",children:"gp_stat_progress_dtx_recovery"}),"\n",(0,r.jsxs)(e.p,{children:["The ",(0,r.jsx)(e.code,{children:"gp_stat_progress_dtx_recovery"})," view is a cluster-wide view that displays the progress of the Distributed Transaction (DTX) Recovery process, which runs in the backgroup during Postgres startup."]}),"\n",(0,r.jsx)(e.p,{children:'This view might be useful if a coordinator restart remains in a recovery state for a long time. Apache Cloudberry will not accept connections until all "in-doubt" transactions are resolved. In-doubt transactions are transactions that have been prepared but not committed yet. If there were many transactions running before the coordinator restarted, the recovery of the database might take longer than expected, and you might use this view to monitor the current phase of the recovery. Note that in this scenario, as Apache Cloudberry is still starting up, you will need to access the database in utility mode to check this view.'}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Column"}),(0,r.jsx)(e.th,{children:"Type"}),(0,r.jsx)(e.th,{children:"Description"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"phase"})}),(0,r.jsx)(e.td,{children:"text"}),(0,r.jsx)(e.td,{children:"Status of the recovery. The possible values are: 'initializing', 'recovering commited distributed transactions', 'gathering in-doubt transactions', 'aborting in-doubt transactions', 'gathering in-doubt orphaned transactions', and 'managing in-doubt orphaned transactions'."})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"recover_commited_dtx_total"})}),(0,r.jsx)(e.td,{children:"bigint"}),(0,r.jsx)(e.td,{children:"Total number of committed transactions found to recover."})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"recover_commited_dtx_completed"})}),(0,r.jsx)(e.td,{children:"bigint"}),(0,r.jsx)(e.td,{children:"Number of committed transactions that have been recovered."})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"in_doubt_tx_total`"}),(0,r.jsx)(e.td,{children:"bigint"}),(0,r.jsx)(e.td,{children:"Total number of in-doubt transaction found, used in startup and non-startup phases."})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"in_doubt_tx_in_progress"})}),(0,r.jsx)(e.td,{children:"bigint"}),(0,r.jsx)(e.td,{children:"Number of in-progress, in-doubt transactions."})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"in_doubt_tx_aborted"})}),(0,r.jsx)(e.td,{children:"bigint"}),(0,r.jsx)(e.td,{children:"Number of aborted in-doubt transactions."})]})]})]})]})}function l(t={}){const{wrapper:e}={...(0,n.a)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(h,{...t})}):h(t)}},11151:(t,e,s)=>{s.d(e,{Z:()=>a,a:()=>i});var r=s(67294);const n={},o=r.createContext(n);function i(t){const e=r.useContext(o);return r.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function a(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(n):t.components||n:i(t.components),r.createElement(o.Provider,{value:e},t.children)}}}]);