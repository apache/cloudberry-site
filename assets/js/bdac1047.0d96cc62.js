"use strict";(self.webpackChunkApache_Cloudberry_Incubating_website=self.webpackChunkApache_Cloudberry_Incubating_website||[]).push([[13330],{5595:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>d,toc:()=>u});var s=r(85893),t=r(11151),l=r(74866),a=r(85162);const i={title:"On Rocky Linux 8 and Ubuntu"},o="Compile and Install Apache Cloudberry on Rocky Linux 8 and Ubuntu",d={id:"cbdb-rockylinux8-ubuntu-compile",title:"On Rocky Linux 8 and Ubuntu",description:"The source of this document is from the GitHub repository apache/cloudberry.",source:"@site/versioned_docs/version-1.x/cbdb-rockylinux8-ubuntu-compile.md",sourceDirName:".",slug:"/cbdb-rockylinux8-ubuntu-compile",permalink:"/docs/1.x/cbdb-rockylinux8-ubuntu-compile",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/cloudberry-site/edit/main/versioned_docs/version-1.x/cbdb-rockylinux8-ubuntu-compile.md",tags:[],version:"1.x",lastUpdatedBy:"Dianjin Wang",lastUpdatedAt:1748046198,formattedLastUpdatedAt:"May 24, 2025",frontMatter:{title:"On Rocky Linux 8 and Ubuntu"},sidebar:"docsbars",previous:{title:"On macOS",permalink:"/docs/1.x/cbdb-macos-compile"},next:{title:"On Rocky Linux 9",permalink:"/docs/1.x/cbdb-rockylinux9-compile"}},c={},u=[{value:"Step 1. Clone GitHub repo",id:"step-1-clone-github-repo",level:2},{value:"Step 2. Install dependencies",id:"step-2-install-dependencies",level:2},{value:"Step 3. Perform prerequisite platform tasks",id:"step-3-perform-prerequisite-platform-tasks",level:2},{value:"Step 4. Build Apache Cloudberry",id:"step-4-build-apache-cloudberry",level:2},{value:"Step 5. Verify the cluster",id:"step-5-verify-the-cluster",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"compile-and-install-apache-cloudberry-on-rocky-linux-8-and-ubuntu",children:"Compile and Install Apache Cloudberry on Rocky Linux 8 and Ubuntu"}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The source of this document is from the GitHub repository ",(0,s.jsx)(n.a,{href:"https://github.com/apache/cloudberry/blob/main/deploy/build/README.Linux.md",children:(0,s.jsx)(n.code,{children:"apache/cloudberry"})}),"."]})}),"\n",(0,s.jsxs)(n.p,{children:["This document shares how to compile and install Apache Cloudberry on Rocky Linux 8, RHEL 8, and Ubuntu. Note that this document is for developers to try out Apache Cloudberry in a single-node environments. ",(0,s.jsx)(n.strong,{children:"DO NOT use this document for production environments"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["To learn how to compile and install Apache Cloudberry on Rocky Linux 9, see ",(0,s.jsx)(n.a,{href:"/docs/next/cbdb-rockylinux9-compile",children:"Compile on Rocky Linux 9"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Take the following steps to compile and install Apache Cloudberry:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#step-1-clone-github-repo",children:"Clone GitHub repo"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#step-2-install-dependencies",children:"Install dependencies"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#step-3-perform-prerequisite-platform-tasks",children:"Perform prerequisite platform tasks"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#step-4-build-apache-cloudberry",children:"Build Apache Cloudberry"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#step-5-verify-the-cluster",children:"Verify the cluster"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-1-clone-github-repo",children:"Step 1. Clone GitHub repo"}),"\n",(0,s.jsxs)(n.p,{children:["Clone the GitHub repository ",(0,s.jsx)(n.code,{children:"apache/cloudberry"})," to the target machine:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"git clone https://github.com/apache/cloudberry.git\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-2-install-dependencies",children:"Step 2. Install dependencies"}),"\n",(0,s.jsx)(n.p,{children:"Enter the repository and install dependencies according to your operating systems:"}),"\n",(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(a.Z,{value:"rockey-rhel-8",label:"For RHEL 8 and Rocky Linux 8",default:!0,children:(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install Development Tools."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'sudo yum group install -y "Development Tools"\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install dependencies:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo yum install -y epel-release\n\nsudo yum install -y apr-devel bison bzip2-devel cmake3 flex gcc gcc-c++ krb5-devel libcurl-devel libevent-devel libkadm5  libxml2-devel libzstd-devel openssl-devel perl-ExtUtils-Embed python3-devel python3-pip readline-devel xerces-c-devel zlib-devel\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Install more dependencies by running the ",(0,s.jsx)(n.code,{children:"README.Rhel-Rocky.bash"})," script."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ~/cloudberry/deploy/build/\n./README.Rhel-Rocky.bash\n"})}),"\n"]}),"\n"]})}),(0,s.jsx)(a.Z,{value:"ubuntu-18.04",label:"For Ubuntu 18.04 or later",default:!0,children:(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Install dependencies by running the ",(0,s.jsx)(n.code,{children:"README.Ubuntu.bash"})," script in the ",(0,s.jsx)(n.code,{children:"deploy/build"})," directory."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"## You need to enter your password to run.\nsudo ~/cloudberry/deploy/build/README.Ubuntu.bash\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["When you run the ",(0,s.jsx)(n.code,{children:"README.Ubuntu.bash"})," script for dependencies, you will be asked to configure ",(0,s.jsx)(n.code,{children:"realm"})," for Kerberos. You can enter any realm, because this is just for testing, and during testing, it will reconfigure a local server/client. If you want to skip this manual configuration, run ",(0,s.jsx)(n.code,{children:"export DEBIAN_FRONTEND=noninteractive"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"If the script fails to download packages, we recommend that you can try another one software source for Ubuntu."}),"\n"]})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install GCC 10. Ubuntu 18.04 and later versions should use GCC 10 or newer:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"## Install gcc-10\nsudo apt install software-properties-common\nsudo add-apt-repository ppa:ubuntu-toolchain-r/test\nsudo apt install gcc-10 g++-10\nsudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-10 100\n"})}),"\n"]}),"\n"]})})]}),"\n",(0,s.jsx)(n.h2,{id:"step-3-perform-prerequisite-platform-tasks",children:"Step 3. Perform prerequisite platform tasks"}),"\n",(0,s.jsxs)(n.p,{children:["After you have installed all the dependencies for your operating system, it is time to do some prerequisite platform tasks before you go on building Apache Cloudberry. These operation include manually running ",(0,s.jsx)(n.code,{children:"ldconfig"})," on all platforms, creating the ",(0,s.jsx)(n.code,{children:"gpadmin"})," user, and setting up a password to start the Apache Cloudberry and test."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Make sure that you add ",(0,s.jsx)(n.code,{children:"/usr/local/lib"})," and ",(0,s.jsx)(n.code,{children:"/usr/local/lib64"})," to the ",(0,s.jsx)(n.code,{children:"/etc/ld.so.conf"})," file."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'echo -e "/usr/local/lib \\n/usr/local/lib64" >> /etc/ld.so.conf\nldconfig\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create the ",(0,s.jsx)(n.code,{children:"gpadmin"})," user and set up the SSH key. Manually create SSH keys based on different operating systems, so that you can run ",(0,s.jsx)(n.code,{children:"ssh localhost"})," without a password."]}),"\n",(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(a.Z,{value:"rhel-rockey",label:"For Rocky Linux 8 and RHEL 8",default:!0,children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"useradd gpadmin  # Creates gpadmin user\nsu - gpadmin  # Uses the gpadmin user\nssh-keygen  # Creates SSH key\ncat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys\nchmod 600 ~/.ssh/authorized_keys\nexit\n"})})}),(0,s.jsx)(a.Z,{value:"ubuntu",label:"For Ubuntu",default:!0,children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"useradd -r -m -s /bin/bash gpadmin  # Creates gpadmin user\nsu - gpadmin  # Uses the gpadmin user\nssh-keygen  # Creates SSH key\ncat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys\nchmod 600 ~/.ssh/authorized_keys \nexit\n"})})})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-4-build-apache-cloudberry",children:"Step 4. Build Apache Cloudberry"}),"\n",(0,s.jsx)(n.p,{children:"After you have installed all the dependencies and performed the prerequisite platform tasks, you can start to build Apache Cloudberry. Run the following commands in sequence."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Configure the build environment. Enter the ",(0,s.jsx)(n.code,{children:"cloudberry"})," directory and run the ",(0,s.jsx)(n.code,{children:"configure"})," script."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ../..\n./configure --with-perl --with-python --with-libxml --with-gssapi --prefix=/usr/local/cloudberrydb\n"})}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsxs)(n.p,{children:["Apache Cloudberry is built with GPORCA by default. If you want to build CBDB without GPORCA, add the ",(0,s.jsx)(n.code,{children:"--disable-orca"})," flag in the ",(0,s.jsx)(n.code,{children:"./configure"})," command."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./configure --disable-orca --with-perl --with-python --with-libxml --prefix=/usr/local/cloudberry\n"})})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Compile the code and install the database."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"make -j8\nmake -j8 install\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Bring in the Greenplum environment variables for your running shell."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ..\ncp -r cloudberry/ /home/gpadmin/\ncd /home/gpadmin/\nchown -R gpadmin:gpadmin cloudberry/\nsu - gpadmin\ncd cloudberry/\nsource /usr/local/cloudberry/greenplum_path.sh\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Start the demo cluster."}),"\n",(0,s.jsx)(l.Z,{children:(0,s.jsx)(a.Z,{value:"ubuntu-rocky-rhel",label:"For Ubuntu, Rocky Linux 8, and RHEL 8",default:!0,children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"make create-demo-cluster\n"})})})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Prepare the test by running the following command. This command will configure the port and environment variables for the test."}),"\n",(0,s.jsxs)(n.p,{children:["Environment variables such as ",(0,s.jsx)(n.code,{children:"PGPORT"})," and ",(0,s.jsx)(n.code,{children:"COORDINATOR_DATA_DIRECTORY"})," will be configured, which are the default port and the data directory of the coordinator node."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"source gpAux/gpdemo/gpdemo-env.sh\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-5-verify-the-cluster",children:"Step 5. Verify the cluster"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["You can verify whether the cluster has started successfully by running the following command. If successful, you might see multiple active ",(0,s.jsx)(n.code,{children:"postgres"})," processes with ports ranging from ",(0,s.jsx)(n.code,{children:"7000"})," to ",(0,s.jsx)(n.code,{children:"7007"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ps -ef | grep postgres\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Connect to the Apache Cloudberry and see the active segment information by querying the system table ",(0,s.jsx)(n.code,{children:"gp_segement_configuration"}),". For detailed description of this table, see the Greenplum document ",(0,s.jsx)(n.a,{href:"https://docs.vmware.com/en/VMware-Greenplum/6/greenplum-database/ref_guide-system_catalogs-gp_segment_configuration.html",children:"here"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:'psql -p 7000 postgres\npsql (14.4, server 14.4)\nType "help" for help.\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT VERSION();\n           version                                                          \n-------------------------------------------------------------------------------------\nPostgreSQL 14.4 (Apache Cloudberry 1.6.0+dev.1383.g5cdbab19af build dev) on x86_64-pc-li\nnux-gnu, compiled by gcc (GCC) 8.5.0 20210514 (Red Hat 8.5.0-23), 64-bit compiled on Feb \n26 2025 18:20:10\n(1 row)\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM gp_segment_configuration;\n\n dbid | content | role | preferred_role | mode | status | port |  hostname  |  address   |                                   datadir                                    | warehouseid \n------+---------+------+----------------+------+--------+------+------------+------------+------------------------------------------------------------------------------+-------------\n    1 |      -1 | p    | p              | n    | u      | 7000 | i-6wvpa9wt | i-6wvpa9wt | /home/gpadmin/cloudberry/gpAux/gpdemo/datadirs/qddir/demoDataDir-1         |           0\n    8 |      -1 | m    | m              | s    | u      | 7001 | i-6wvpa9wt | i-6wvpa9wt | /home/gpadmin/cloudberry/gpAux/gpdemo/datadirs/standby                     |           0\n    3 |       1 | p    | p              | s    | u      | 7003 | i-6wvpa9wt | i-6wvpa9wt | /home/gpadmin/cloudberry/gpAux/gpdemo/datadirs/dbfast2/demoDataDir1        |           0\n    6 |       1 | m    | m              | s    | u      | 7006 | i-6wvpa9wt | i-6wvpa9wt | /home/gpadmin/cloudberry/gpAux/gpdemo/datadirs/dbfast_mirror2/demoDataDir1 |           0\n    2 |       0 | p    | p              | s    | u      | 7002 | i-6wvpa9wt | i-6wvpa9wt | /home/gpadmin/cloudberry/gpAux/gpdemo/datadirs/dbfast1/demoDataDir0        |           0\n    5 |       0 | m    | m              | s    | u      | 7005 | i-6wvpa9wt | i-6wvpa9wt | /home/gpadmin/cloudberry/gpAux/gpdemo/datadirs/dbfast_mirror1/demoDataDir0 |           0\n    4 |       2 | p    | p              | s    | u      | 7004 | i-6wvpa9wt | i-6wvpa9wt | /home/gpadmin/cloudberry/gpAux/gpdemo/datadirs/dbfast3/demoDataDir2        |           0\n    7 |       2 | m    | m              | s    | u      | 7007 | i-6wvpa9wt | i-6wvpa9wt | /home/gpadmin/cloudberry/gpAux/gpdemo/datadirs/dbfast_mirror3/demoDataDir2 |           0\n(8 rows)\n"})}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},85162:(e,n,r)=>{r.d(n,{Z:()=>a});r(67294);var s=r(90512);const t={tabItem:"tabItem_Ymn6"};var l=r(85893);function a(e){let{children:n,hidden:r,className:a}=e;return(0,l.jsx)("div",{role:"tabpanel",className:(0,s.Z)(t.tabItem,a),hidden:r,children:n})}},74866:(e,n,r)=>{r.d(n,{Z:()=>w});var s=r(67294),t=r(90512),l=r(12466),a=r(16550),i=r(20469),o=r(91980),d=r(67392),c=r(50012);function u(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:r}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:r,attributes:s,default:t}}=e;return{value:n,label:r,attributes:s,default:t}}))}(r);return function(e){const n=(0,d.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function p(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:r}=e;const t=(0,a.k6)(),l=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,o._X)(l),(0,s.useCallback)((e=>{if(!l)return;const n=new URLSearchParams(t.location.search);n.set(l,e),t.replace({...t.location,search:n.toString()})}),[l,t])]}function b(e){const{defaultValue:n,queryString:r=!1,groupId:t}=e,l=h(e),[a,o]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=r.find((e=>e.default))??r[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:l}))),[d,u]=m({queryString:r,groupId:t}),[b,x]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[t,l]=(0,c.Nk)(r);return[t,(0,s.useCallback)((e=>{r&&l.set(e)}),[r,l])]}({groupId:t}),g=(()=>{const e=d??b;return p({value:e,tabValues:l})?e:null})();(0,i.Z)((()=>{g&&o(g)}),[g]);return{selectedValue:a,selectValue:(0,s.useCallback)((e=>{if(!p({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),x(e)}),[u,x,l]),tabValues:l}}var x=r(72389);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=r(85893);function y(e){let{className:n,block:r,selectedValue:s,selectValue:a,tabValues:i}=e;const o=[],{blockElementScrollPositionUntilNextRender:d}=(0,l.o5)(),c=e=>{const n=e.currentTarget,r=o.indexOf(n),t=i[r].value;t!==s&&(d(n),a(t))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=o.indexOf(e.currentTarget)+1;n=o[r]??o[0];break}case"ArrowLeft":{const r=o.indexOf(e.currentTarget)-1;n=o[r]??o[o.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.Z)("tabs",{"tabs--block":r},n),children:i.map((e=>{let{value:n,label:r,attributes:l}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>o.push(e),onKeyDown:u,onClick:c,...l,className:(0,t.Z)("tabs__item",g.tabItem,l?.className,{"tabs__item--active":s===n}),children:r??n},n)}))})}function j(e){let{lazy:n,children:r,selectedValue:t}=e;const l=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=l.find((e=>e.props.value===t));return e?(0,s.cloneElement)(e,{className:"margin-top--md"}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:l.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function v(e){const n=b(e);return(0,f.jsxs)("div",{className:(0,t.Z)("tabs-container",g.tabList),children:[(0,f.jsx)(y,{...e,...n}),(0,f.jsx)(j,{...e,...n})]})}function w(e){const n=(0,x.Z)();return(0,f.jsx)(v,{...e,children:u(e.children)},String(n))}},11151:(e,n,r)=>{r.d(n,{Z:()=>i,a:()=>a});var s=r(67294);const t={},l=s.createContext(t);function a(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);