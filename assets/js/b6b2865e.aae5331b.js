"use strict";(self.webpackChunkApache_Cloudberry_Incubating_website=self.webpackChunkApache_Cloudberry_Incubating_website||[]).push([[40113],{3308:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>l,frontMatter:()=>i,metadata:()=>o,toc:()=>a});var n=s(85893),r=s(11151);const i={title:"gp_segment_configuration"},d="gp_segment_configuration",o={id:"sys-catalogs/sys-tables/gp-segment-configuration",title:"gp_segment_configuration",description:"The gpsegmentconfiguration table in the pg_catalog schema contains information about mirroring and segment instance configuration.",source:"@site/versioned_docs/version-2.x/sys-catalogs/sys-tables/gp-segment-configuration.md",sourceDirName:"sys-catalogs/sys-tables",slug:"/sys-catalogs/sys-tables/gp-segment-configuration",permalink:"/docs/sys-catalogs/sys-tables/gp-segment-configuration",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/cloudberry-site/edit/main/versioned_docs/version-2.x/sys-catalogs/sys-tables/gp-segment-configuration.md",tags:[],version:"2.x",lastUpdatedBy:"TomShawn",lastUpdatedAt:1750137774,formattedLastUpdatedAt:"Jun 17, 2025",frontMatter:{title:"gp_segment_configuration"},sidebar:"docsbars",previous:{title:"gp_partition_template",permalink:"/docs/sys-catalogs/sys-tables/gp-partition-template"},next:{title:"gp_version_at_initdb",permalink:"/docs/sys-catalogs/sys-tables/gp-version-at-initdb"}},c={},a=[];function h(e){const t={code:"code",em:"em",h1:"h1",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"gp_segment_configuration",children:"gp_segment_configuration"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"gp_segment_configuration"})," table in the ",(0,n.jsx)(t.code,{children:"pg_catalog"})," schema contains information about mirroring and segment instance configuration."]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"column"}),(0,n.jsx)(t.th,{children:"type"}),(0,n.jsx)(t.th,{children:"references"}),(0,n.jsx)(t.th,{children:"description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"dbid"})}),(0,n.jsx)(t.td,{children:"smallint"}),(0,n.jsx)(t.td,{children:"\xa0"}),(0,n.jsx)(t.td,{children:"Unique identifier of a segment (or coordinator) instance."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"content"})}),(0,n.jsx)(t.td,{children:"smallint"}),(0,n.jsx)(t.td,{children:"\xa0"}),(0,n.jsxs)(t.td,{children:["The content identifier for a segment instance. A primary segment instance and its corresponding mirror will always have the same content identifier.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"For a segment the value is from 0 to ",(0,n.jsx)(t.em,{children:"N"}),"-1, where ",(0,n.jsx)(t.em,{children:"N"})," is the number of primary segments in the system.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"For the coordinator, the value is always -1."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"role"})}),(0,n.jsx)(t.td,{children:"char"}),(0,n.jsx)(t.td,{children:"\xa0"}),(0,n.jsxs)(t.td,{children:["The role that a segment is currently running as. Values are ",(0,n.jsx)(t.code,{children:"p"})," (primary) or ",(0,n.jsx)(t.code,{children:"m"})," (mirror)."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"preferred_role"})}),(0,n.jsx)(t.td,{children:"char"}),(0,n.jsx)(t.td,{children:"\xa0"}),(0,n.jsxs)(t.td,{children:["The role that a segment was originally assigned at initialization time. Values are ",(0,n.jsx)(t.code,{children:"p"})," (primary) or ",(0,n.jsx)(t.code,{children:"m"})," (mirror)."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"mode"})}),(0,n.jsx)(t.td,{children:"char"}),(0,n.jsx)(t.td,{children:"\xa0"}),(0,n.jsxs)(t.td,{children:["The synchronization status of a segment instance with its mirror copy. Values are ",(0,n.jsx)(t.code,{children:"s"})," (Synchronized) or ",(0,n.jsx)(t.code,{children:"n"})," (Not In Sync).",(0,n.jsx)("br",{}),(0,n.jsx)("br",{})," This column always shows ",(0,n.jsx)(t.code,{children:"n"})," for the coordinator segment and ",(0,n.jsx)(t.code,{children:"s"})," for the standby coordinator segment, but these values do not describe the synchronization state for the coordinator segment. Use ",(0,n.jsx)(t.code,{children:"gp_stat_replication"})," to determine the synchronization state between the coordinator and standby coordinator."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"status"})}),(0,n.jsx)(t.td,{children:"char"}),(0,n.jsx)(t.td,{children:"\xa0"}),(0,n.jsxs)(t.td,{children:["The fault status of a segment instance. Values are ",(0,n.jsx)(t.code,{children:"u"})," (up) or ",(0,n.jsx)(t.code,{children:"d"})," (down)."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"port"})}),(0,n.jsx)(t.td,{children:"integer"}),(0,n.jsx)(t.td,{children:"\xa0"}),(0,n.jsx)(t.td,{children:"The TCP port the database server listener process is using."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"hostname"})}),(0,n.jsx)(t.td,{children:"text"}),(0,n.jsx)(t.td,{children:"\xa0"}),(0,n.jsx)(t.td,{children:"The hostname of a segment host."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"address"})}),(0,n.jsx)(t.td,{children:"text"}),(0,n.jsx)(t.td,{children:"\xa0"}),(0,n.jsxs)(t.td,{children:["The hostname used to access a particular segment instance on a segment host. This value may be the same as ",(0,n.jsx)(t.code,{children:"hostname"})," on systems that do not have per-interface hostnames configured."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"datadir"})}),(0,n.jsx)(t.td,{children:"text"}),(0,n.jsx)(t.td,{children:"\xa0"}),(0,n.jsx)(t.td,{children:"Segment instance data directory."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"warehouseid"})}),(0,n.jsx)(t.td,{children:"oid"}),(0,n.jsx)(t.td,{children:"The ID of the warehouse that the segment belongs to."}),(0,n.jsx)(t.td,{})]})]})]})]})}function l(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},11151:(e,t,s)=>{s.d(t,{Z:()=>o,a:()=>d});var n=s(67294);const r={},i=n.createContext(r);function d(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);