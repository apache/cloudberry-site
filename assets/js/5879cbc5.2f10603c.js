"use strict";(self.webpackChunkApache_Cloudberry_Incubating_website=self.webpackChunkApache_Cloudberry_Incubating_website||[]).push([[1548],{1279:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>d,toc:()=>l});var r=s(85893),o=s(11151);const i={title:"dropuser"},t="dropuser",d={id:"sys-utilities/dropuser",title:"dropuser",description:"Removes a database role.",source:"@site/versioned_docs/version-1.x/sys-utilities/dropuser.md",sourceDirName:"sys-utilities",slug:"/sys-utilities/dropuser",permalink:"/docs/1.x/sys-utilities/dropuser",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/cloudberry-site/edit/main/versioned_docs/version-1.x/sys-utilities/dropuser.md",tags:[],version:"1.x",lastUpdatedBy:"Dianjin Wang",lastUpdatedAt:1756102252,formattedLastUpdatedAt:"Aug 25, 2025",frontMatter:{title:"dropuser"},sidebar:"docsbars",previous:{title:"dropdb",permalink:"/docs/1.x/sys-utilities/dropdb"},next:{title:"gpactivatestandby",permalink:"/docs/1.x/sys-utilities/gpactivatestandby"}},c={},l=[{value:"Synopsis",id:"synopsis",level:2},{value:"Description",id:"description",level:2},{value:"Options",id:"options",level:2},{value:"Connection options",id:"connection-options",level:3},{value:"Examples",id:"examples",level:2},{value:"See also",id:"see-also",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"dropuser",children:"dropuser"}),"\n",(0,r.jsx)(n.p,{children:"Removes a database role."}),"\n",(0,r.jsx)(n.h2,{id:"synopsis",children:"Synopsis"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"dropuser [<connection-option> ...] [-e] [-i] <role_name>\n\ndropuser -? | --help \n\ndropuser -V | --version\n"})}),"\n",(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"dropuser"})," removes an existing role from Apache Cloudberry. Only superusers and users with the ",(0,r.jsx)(n.code,{children:"CREATEROLE"})," privilege can remove roles. To remove a superuser role, you must yourself be a superuser."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"dropuser"})," is a wrapper around the SQL command ",(0,r.jsx)(n.code,{children:"DROP ROLE"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"role_name"})})}),"\n",(0,r.jsxs)(n.p,{children:["The name of the role to be removed. You will be prompted for a name if not specified on the command line and the ",(0,r.jsx)(n.code,{children:"-i"}),"/",(0,r.jsx)(n.code,{children:"--interactive"})," option is used."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-e | --echo"})})}),"\n",(0,r.jsxs)(n.p,{children:["Echo the commands that ",(0,r.jsx)(n.code,{children:"dropuser"})," generates and sends to the server."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-i | --interactive"})})}),"\n",(0,r.jsx)(n.p,{children:"Prompt for confirmation before actually removing the role, and prompt for the role name if none is specified on the command line."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"--if-exists"})})}),"\n",(0,r.jsx)(n.p,{children:"Do not throw an error if the user does not exist. A notice is issued in this case."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-V | --version"})})}),"\n",(0,r.jsxs)(n.p,{children:["Print the ",(0,r.jsx)(n.code,{children:"dropuser"})," version and exit."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-? | --help"})})}),"\n",(0,r.jsxs)(n.p,{children:["Show help about ",(0,r.jsx)(n.code,{children:"dropuser"})," command line arguments, and exit."]}),"\n",(0,r.jsx)(n.h3,{id:"connection-options",children:"Connection options"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-h host | --host=host"})})}),"\n",(0,r.jsxs)(n.p,{children:["The host name of the machine on which the Cloudberry coordinator database server is running. If not specified, reads from the environment variable ",(0,r.jsx)(n.code,{children:"PGHOST"})," or defaults to localhost."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-p port | --port=port"})})}),"\n",(0,r.jsxs)(n.p,{children:["The TCP port on which the Cloudberry coordinator database server is listening for connections. If not specified, reads from the environment variable ",(0,r.jsx)(n.code,{children:"PGPORT"})," or defaults to 5432."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-U username | --username=username"})})}),"\n",(0,r.jsxs)(n.p,{children:["The database role name to connect as. If not specified, reads from the environment variable ",(0,r.jsx)(n.code,{children:"PGUSER"})," or defaults to the current system role name."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-w | --no-password"})})}),"\n",(0,r.jsxs)(n.p,{children:["Never issue a password prompt. If the server requires password authentication and a password is not available by other means such as a ",(0,r.jsx)(n.code,{children:".pgpass"})," file, the connection attempt will fail. This option can be useful in batch jobs and scripts where no user is present to enter a password."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-W | --password"})})}),"\n",(0,r.jsx)(n.p,{children:"Force a password prompt."}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsxs)(n.p,{children:["To remove the role ",(0,r.jsx)(n.code,{children:"joe"})," using default connection options:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"dropuser joe\nDROP ROLE\n"})}),"\n",(0,r.jsx)(n.p,{children:"To remove the role joe using connection options, with verification, and a peek at the underlying command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'dropuser -p 54321 -h coordinatorhost -i -e joe\nRole "joe" will be permanently removed.\nAre you sure? (y/n) y\nDROP ROLE "joe"\nDROP ROLE\n'})}),"\n",(0,r.jsx)(n.h2,{id:"see-also",children:"See also"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/next/sys-utilities/createuser",children:"createuser"}),", ",(0,r.jsx)(n.a,{href:"/docs/next/sql-stmts/drop-role",children:(0,r.jsx)(n.code,{children:"DROP ROLE"})})]})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>d,a:()=>t});var r=s(67294);const o={},i=r.createContext(o);function t(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);