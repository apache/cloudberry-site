"use strict";(self.webpackChunkApache_Cloudberry_Incubating_website=self.webpackChunkApache_Cloudberry_Incubating_website||[]).push([[22354],{67136:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>o,frontMatter:()=>c,metadata:()=>n,toc:()=>l});var i=s(85893),r=s(11151);const c={title:"gp_stat_archiver"},a="gp_stat_archiver",n={id:"sys-catalogs/sys-views/gp-stat-archiver",title:"gp_stat_archiver",description:"The gpstatarchiver view provides information about the WAL archiver process for each segment in the Apache Cloudberry cluster. It includes metrics such as the number of successfully archived WAL files, the name and time of the last archived WAL file, the number of failed archival attempts, and details of the last failure. This view is useful for monitoring and diagnosing WAL archiving across the cluster.",source:"@site/docs/sys-catalogs/sys-views/gp-stat-archiver.md",sourceDirName:"sys-catalogs/sys-views",slug:"/sys-catalogs/sys-views/gp-stat-archiver",permalink:"/docs/next/sys-catalogs/sys-views/gp-stat-archiver",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/cloudberry-site/edit/main/docs/sys-catalogs/sys-views/gp-stat-archiver.md",tags:[],version:"current",lastUpdatedBy:"Dianjin Wang",lastUpdatedAt:1754561742,formattedLastUpdatedAt:"Aug 7, 2025",frontMatter:{title:"gp_stat_archiver"},sidebar:"docsbars",previous:{title:"pg_stat_all_indexes",permalink:"/docs/next/sys-catalogs/sys-views/gp-stat-all-indexes"},next:{title:"gp_stat_progress_dtx_recovery",permalink:"/docs/next/sys-catalogs/sys-views/gp-stat-progress-dtx-recovery"}},d={},l=[];function h(e){const t={code:"code",h1:"h1",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"gp_stat_archiver",children:"gp_stat_archiver"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"gp_stat_archiver"})," view provides information about the WAL archiver process for each segment in the Apache Cloudberry cluster. It includes metrics such as the number of successfully archived WAL files, the name and time of the last archived WAL file, the number of failed archival attempts, and details of the last failure. This view is useful for monitoring and diagnosing WAL archiving across the cluster."]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"column"}),(0,i.jsx)(t.th,{children:"type"}),(0,i.jsx)(t.th,{children:"references"}),(0,i.jsx)(t.th,{children:"description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"gp_segment_id"})}),(0,i.jsx)(t.td,{children:"integer"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"Unique identifier of a segment (or coordinator) instance."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"archived_count"})}),(0,i.jsx)(t.td,{children:"bigint"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"Number of WAL files that have been successfully archived."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"last_archived_wal"})}),(0,i.jsx)(t.td,{children:"text"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"Name of the WAL file most recently successfully archived."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"last_archived_time "})}),(0,i.jsx)(t.td,{children:"timestamp with time zone"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"Time of the most recent successful archive operation."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"failed_count"})}),(0,i.jsx)(t.td,{children:"bigint"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"Number of failed attempts for archiving WAL files."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"last_failed_wal"})}),(0,i.jsx)(t.td,{children:"timestamp with time zone"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"Name of the WAL file of the most recent failed archival operation."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"last_failed_time"})}),(0,i.jsx)(t.td,{children:"bigint"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"Time of the most recent failed archival operation."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"stats_reset"})}),(0,i.jsx)(t.td,{children:"timestamp with time zone"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"Time at which these statistics were last reset."})]})]})]}),"\n",(0,i.jsxs)(t.p,{children:["This system view is summarized in the ",(0,i.jsx)(t.code,{children:"gp_stat_archiver_summary"})," system view."]})]})}function o(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},11151:(e,t,s)=>{s.d(t,{Z:()=>n,a:()=>a});var i=s(67294);const r={},c=i.createContext(r);function a(e){const t=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function n(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(c.Provider,{value:t},e.children)}}}]);