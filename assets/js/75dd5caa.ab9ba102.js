"use strict";(self.webpackChunkApache_Cloudberry_Incubating_website=self.webpackChunkApache_Cloudberry_Incubating_website||[]).push([[65870],{97569:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var r=t(85893),a=t(11151);const s={title:"Use JDBC"},o="Use JDBC",i={id:"developer/use-jdbc-driver",title:"Use JDBC",description:"Because Apache Cloudberry is compatible with Greenplum and PostgreSQL, JDBC access methods are the same as those for Greenplum/PostgreSQL.",source:"@site/docs/developer/use-jdbc-driver.md",sourceDirName:"developer",slug:"/developer/use-jdbc-driver",permalink:"/docs/next/developer/use-jdbc-driver",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/cloudberry-site/edit/main/docs/developer/use-jdbc-driver.md",tags:[],version:"current",lastUpdatedBy:"TomShawn",lastUpdatedAt:1767860953,formattedLastUpdatedAt:"Jan 8, 2026",frontMatter:{title:"Use JDBC"},sidebar:"docsbars",previous:{title:"Supported BI Tools",permalink:"/docs/next/developer/supported-bi-tools"},next:{title:"Use ODBC",permalink:"/docs/next/developer/use-odbc-driver"}},d={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1. Download the JDBC driver",id:"step-1-download-the-jdbc-driver",level:2},{value:"Step 2. Connect to Apache Cloudberry",id:"step-2-connect-to-apache-cloudberry",level:2},{value:"Step 3. Set up the environment",id:"step-3-set-up-the-environment",level:2},{value:"Download PostgreSQL JDBC driver",id:"download-postgresql-jdbc-driver",level:3},{value:"Compile Java code",id:"compile-java-code",level:3},{value:"Run the Java program",id:"run-the-java-program",level:3},{value:"Execute SQL statements",id:"execute-sql-statements",level:2},{value:"Query data",id:"query-data",level:3},{value:"Insert data",id:"insert-data",level:3},{value:"Update data",id:"update-data",level:3},{value:"Delete data",id:"delete-data",level:3},{value:"Transaction management",id:"transaction-management",level:2},{value:"Use connection pools",id:"use-connection-pools",level:2},{value:"Add HikariCP dependency",id:"add-hikaricp-dependency",level:3},{value:"Configure HikariCP",id:"configure-hikaricp",level:3},{value:"Troubleshoot connection issues",id:"troubleshoot-connection-issues",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"use-jdbc",children:"Use JDBC"}),"\n",(0,r.jsx)(n.p,{children:"Because Apache Cloudberry is compatible with Greenplum and PostgreSQL, JDBC access methods are the same as those for Greenplum/PostgreSQL."}),"\n",(0,r.jsx)(n.p,{children:"This guide explains how to connect to Apache Cloudberry using JDBC and perform database operations."}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"Before connecting to Apache Cloudberry via JDBC, ensure you have:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A Java runtime environment (JDK 1.8 or later) installed."}),"\n",(0,r.jsxs)(n.li,{children:["The PostgreSQL JDBC driver (",(0,r.jsx)(n.code,{children:"postgresql-<version>.jar"}),") downloaded."]}),"\n",(0,r.jsx)(n.li,{children:"Connection details for Apache Cloudberry, including host, port, database name, username, and password."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-1-download-the-jdbc-driver",children:"Step 1. Download the JDBC driver"}),"\n",(0,r.jsxs)(n.p,{children:["The JDBC driver can be downloaded from the ",(0,r.jsx)(n.a,{href:"https://jdbc.postgresql.org/",children:"official PostgreSQL website"}),". Use the latest stable version compatible with Apache Cloudberry."]}),"\n",(0,r.jsx)(n.p,{children:"Example download command (for version 42.5.0):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"wget https://jdbc.postgresql.org/download/postgresql-42.5.0.jar\n"})}),"\n",(0,r.jsx)(n.h2,{id:"step-2-connect-to-apache-cloudberry",children:"Step 2. Connect to Apache Cloudberry"}),"\n",(0,r.jsx)(n.p,{children:"To connect to Apache Cloudberry, use the following connection string format in you Java program."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"jdbc:postgresql://<host>:<port>/<database>?parameters\n"})}),"\n",(0,r.jsx)(n.p,{children:"Common parameters:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"user=<username>"}),": Specifies the database username."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"password=<password>"}),": Specifies the database password."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ssl=<true|false>"}),": Enables or disables SSL connection."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ApplicationName=<app_name>"}),": Optional, used to identify the client application."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"jdbc:postgresql://db.example.com:5432/mydb?user=myuser&password=mypass&ssl=true\n"})}),"\n",(0,r.jsx)(n.p,{children:"The following example demonstrates how to connect to Apache Cloudberry using JDBC:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class DBExample {\n   public static void main(String[] args) {\n      String url = "jdbc:postgresql://your-db-host:5432/your_database";\n      String user = "your_username";\n      String password = "your_password";\n\n      try (Connection conn = DriverManager.getConnection(url, user, password);\n          Statement stmt = conn.createStatement();\n          ResultSet rs = stmt.executeQuery("SELECT version();")) {\n\n         while (rs.next()) {\n            System.out.println("Database Version: " + rs.getString(1));\n         }\n      } catch (SQLException e) {\n         e.printStackTrace();\n      }\n   }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"step-3-set-up-the-environment",children:"Step 3. Set up the environment"}),"\n",(0,r.jsx)(n.h3,{id:"download-postgresql-jdbc-driver",children:"Download PostgreSQL JDBC driver"}),"\n",(0,r.jsx)(n.p,{children:"Before connecting to the database, download the PostgreSQL JDBC driver:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"wget https://jdbc.postgresql.org/download/postgresql-42.5.0.jar\n"})}),"\n",(0,r.jsx)(n.h3,{id:"compile-java-code",children:"Compile Java code"}),"\n",(0,r.jsx)(n.p,{children:"After writing the Java program, compile it using the downloaded JDBC driver:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"javac -cp postgresql-42.5.0.jar YourJavaProgram.java\n"})}),"\n",(0,r.jsx)(n.h3,{id:"run-the-java-program",children:"Run the Java program"}),"\n",(0,r.jsx)(n.p,{children:"Execute the Java program with the classpath set to include the JDBC driver:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"java -cp .:postgresql-42.5.0.jar YourJavaProgram\n"})}),"\n",(0,r.jsx)(n.h2,{id:"execute-sql-statements",children:"Execute SQL statements"}),"\n",(0,r.jsx)(n.p,{children:"To execute SQL statements through JDBC, you can refer to the following sections to add code to your java program."}),"\n",(0,r.jsx)(n.h3,{id:"query-data",children:"Query data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'String query = "SELECT id, name FROM users";\ntry (Statement stmt = conn.createStatement();\n    ResultSet rs = stmt.executeQuery(query)) {\n   while (rs.next()) {\n      int id = rs.getInt("id");\n      String name = rs.getString("name");\n      System.out.println("ID: " + id + ", Name: " + name);\n   }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"insert-data",children:"Insert data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'String insertSQL = "INSERT INTO users (id, name) VALUES (1, \'Alice\')";\ntry (Statement stmt = conn.createStatement()) {\n   int rowsAffected = stmt.executeUpdate(insertSQL);\n   System.out.println("Rows inserted: " + rowsAffected);\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"update-data",children:"Update data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'String updateSQL = "UPDATE users SET name = \'Bob\' WHERE id = 1";\ntry (Statement stmt = conn.createStatement()) {\n   int rowsAffected = stmt.executeUpdate(updateSQL);\n   System.out.println("Rows updated: " + rowsAffected);\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"delete-data",children:"Delete data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'String deleteSQL = "DELETE FROM users WHERE id = 1";\ntry (Statement stmt = conn.createStatement()) {\n   int rowsAffected = stmt.executeUpdate(deleteSQL);\n   System.out.println("Rows deleted: " + rowsAffected);\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"transaction-management",children:"Transaction management"}),"\n",(0,r.jsx)(n.p,{children:"JDBC allows explicit transaction control:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"conn.setAutoCommit(false);\ntry (Statement stmt = conn.createStatement()) {\n   stmt.executeUpdate(\"INSERT INTO users (id, name) VALUES (2, 'Charlie')\");\n   stmt.executeUpdate(\"UPDATE users SET name = 'Charlie Updated' WHERE id = 2\");\n   conn.commit();\n} catch (SQLException e) {\n   conn.rollback();\n   e.printStackTrace();\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"use-connection-pools",children:"Use connection pools"}),"\n",(0,r.jsx)(n.p,{children:"In production environments, using a connection pool (for example, HikariCP) improves performance."}),"\n",(0,r.jsx)(n.h3,{id:"add-hikaricp-dependency",children:"Add HikariCP dependency"}),"\n",(0,r.jsx)(n.p,{children:"For Maven:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"<dependency>\n   <groupId>com.zaxxer</groupId>\n   <artifactId>HikariCP</artifactId>\n   <version>5.0.1</version>\n</dependency>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configure-hikaricp",children:"Configure HikariCP"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'HikariConfig config = new HikariConfig();\nconfig.setJdbcUrl("jdbc:postgresql://your-db-host:5432/your_database");\nconfig.setUsername("your_username");\nconfig.setPassword("your_password");\nconfig.setMaximumPoolSize(10);\nHikariDataSource dataSource = new HikariDataSource(config);\n'})}),"\n",(0,r.jsx)(n.h2,{id:"troubleshoot-connection-issues",children:"Troubleshoot connection issues"}),"\n",(0,r.jsx)(n.p,{children:"If the connection fails, check:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Network accessibility to Apache Cloudberry."}),"\n",(0,r.jsx)(n.li,{children:"Firewall or security group settings allowing PostgreSQL port (default 5432)."}),"\n",(0,r.jsx)(n.li,{children:"Correct JDBC URL, username, and password."}),"\n",(0,r.jsx)(n.li,{children:"Database logs for detailed error messages."}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>i,a:()=>o});var r=t(67294);const a={},s=r.createContext(a);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);