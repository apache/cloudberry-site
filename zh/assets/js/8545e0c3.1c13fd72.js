"use strict";(self.webpackChunkApache_Cloudberry_Incubating_website=self.webpackChunkApache_Cloudberry_Incubating_website||[]).push([[59563],{44204:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>p,frontMatter:()=>d,metadata:()=>c,toc:()=>u});var i=r(85893),s=r(11151),t=r(74866),l=r(85162);const d={title:"Configure Apache Cloudberry Build"},o=void 0,c={id:"deployment/configure",title:"Configure Apache Cloudberry Build",description:"Configure the build process",source:"@site/versioned_docs/version-2.x/deployment/configure.md",sourceDirName:"deployment",slug:"/deployment/configure",permalink:"/zh/docs/deployment/configure",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/cloudberry-site/edit/main/versioned_docs/version-2.x/deployment/configure.md",tags:[],version:"2.x",lastUpdatedBy:"TomShawn",lastUpdatedAt:1750137774,formattedLastUpdatedAt:"2025\u5e746\u670817\u65e5",frontMatter:{title:"Configure Apache Cloudberry Build"},sidebar:"docsbars",previous:{title:"Download Source Code",permalink:"/zh/docs/deployment/download-source-code"},next:{title:"Build and Install Apache Cloudberry and contrib extensions",permalink:"/zh/docs/deployment/build-and-install"}},a={},u=[{value:"Configure the build process",id:"configure-the-build-process",level:2},{value:"Prepare environment",id:"prepare-environment",level:3},{value:"Run <code>configure</code>",id:"run-configure",level:3},{value:"Prepare environment",id:"prepare-environment-1",level:3},{value:"Run <code>configure</code>",id:"run-configure-1",level:3},{value:"<code>configure</code> options",id:"configure-options",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"configure-the-build-process",children:"Configure the build process"}),"\n",(0,i.jsxs)(t.Z,{children:[(0,i.jsxs)(l.Z,{value:"rocky-linux",label:"For Rocky Linux 8+",default:!0,children:[(0,i.jsx)(n.h3,{id:"prepare-environment",children:"Prepare environment"}),(0,i.jsx)(n.p,{children:"The build process requires the necessary libraries (e.g., Xerces-C) to be available at the expected locations for configuration and runtime. Prepare the environment using the following commands:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo rm -rf /usr/local/cloudberry-db\nsudo chmod a+w /usr/local\nmkdir -p /usr/local/cloudberry-db/lib\nsudo cp -v /usr/local/xerces-c/lib/libxerces-c.so \\\n           /usr/local/xerces-c/lib/libxerces-c-3.*.so \\\n           /usr/local/cloudberry-db/lib\nsudo chown -R gpadmin:gpadmin /usr/local/cloudberry-db\n"})}),(0,i.jsxs)(n.h3,{id:"run-configure",children:["Run ",(0,i.jsx)(n.code,{children:"configure"})]}),(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"configure"})," command sets up the build environment for Apache Cloudberry. This configuration includes several development features and extensions."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd ~/cloudberry\nexport LD_LIBRARY_PATH=/usr/local/cloudberry-db/lib:LD_LIBRARY_PATH\n./configure --prefix=/usr/local/cloudberry-db \\\n            --disable-external-fts \\\n            --enable-debug \\\n            --enable-cassert \\\n            --enable-debug-extensions \\\n            --enable-gpcloud \\\n            --enable-ic-proxy \\\n            --enable-mapreduce \\\n            --enable-orafce \\\n            --enable-orca \\\n            --enable-pax \\\n            --enable-pxf \\\n            --enable-tap-tests \\\n            --with-gssapi \\\n            --with-ldap \\\n            --with-libxml \\\n            --with-lz4 \\\n            --with-pam \\\n            --with-perl \\\n            --with-pgport=5432 \\\n            --with-python \\\n            --with-pythonsrc-ext \\\n            --with-ssl=openssl \\\n            --with-uuid=e2fs \\\n            --with-includes=/usr/local/xerces-c/include \\\n            --with-libraries=/usr/local/cloudberry-db/lib\n"})})]}),(0,i.jsxs)(l.Z,{value:"ubuntu-linux",label:"For Ubuntu 22.04+",default:!0,children:[(0,i.jsx)(n.h3,{id:"prepare-environment-1",children:"Prepare environment"}),(0,i.jsx)(n.p,{children:"Prepare the environment using the following commands:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo rm -rf /usr/local/cloudberry-db\nsudo chmod a+w /usr/local\nmkdir -p /usr/local/cloudberry-db\nsudo chown -R gpadmin:gpadmin /usr/local/cloudberry-db\n"})}),(0,i.jsxs)(n.h3,{id:"run-configure-1",children:["Run ",(0,i.jsx)(n.code,{children:"configure"})]}),(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"configure"})," command sets up the build environment for Apache Cloudberry. This configuration includes several development features and extensions."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd ~/cloudberry\n./configure --prefix=/usr/local/cloudberry-db \\\n            --disable-external-fts \\\n            --enable-debug \\\n            --enable-cassert \\\n            --enable-debug-extensions \\\n            --enable-gpcloud \\\n            --enable-ic-proxy \\\n            --enable-mapreduce \\\n            --enable-orafce \\\n            --enable-orca \\\n            --enable-pax \\\n            --enable-pxf \\\n            --enable-tap-tests \\\n            --with-gssapi \\\n            --with-ldap \\\n            --with-libxml \\\n            --with-lz4 \\\n            --with-pam \\\n            --with-perl \\\n            --with-pgport=5432 \\\n            --with-python \\\n            --with-pythonsrc-ext \\\n            --with-ssl=openssl \\\n            --with-uuid=e2fs \\\n            --with-includes=/usr/include/xercesc\n"})})]})]}),"\n",(0,i.jsxs)(n.h2,{id:"configure-options",children:[(0,i.jsx)(n.code,{children:"configure"})," options"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"configure"})," script is used to prepare the build environment for Apache Cloudberry. It checks for required libraries and sets up the necessary configuration options."]}),"\n",(0,i.jsxs)(n.p,{children:["You can run ",(0,i.jsx)(n.code,{children:"./configure --help"})," to see a full list of options available for configuring Apache Cloudberry. Below is a list of commonly used options with their descriptions and notes."]}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsxs)(n.p,{children:["The build dependencies vary based on which features you enable or disable during configuration. While we've listed the basic required packages in the ",(0,i.jsx)(n.a,{href:"./install-required-packages",children:"previous section"}),", you may need additional packages depending on your configuration choices. When you run the ",(0,i.jsx)(n.code,{children:"./configure"})," command, it will check and report any missing dependencies that you'll need to install before proceeding with the build."]}),(0,i.jsx)(n.p,{children:"Also, some packages names vary between different Linux distributions."})]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--prefix=PREFIX"})}),(0,i.jsxs)(n.td,{children:["Installation directory. ",(0,i.jsx)(n.code,{children:"/usr/local/cbdb"})," is the default value. ",(0,i.jsx)(n.code,{children:"make install"})," will install all the files in ",(0,i.jsx)(n.code,{children:"/usr/local/cbdb/bin"}),", ",(0,i.jsx)(n.code,{children:"/usr/local/cbdb/lib"})," etc."]}),(0,i.jsxs)(n.td,{children:["You can specify an installation prefix other than ",(0,i.jsx)(n.code,{children:"/usr/local/cbdb"})," using ",(0,i.jsx)(n.code,{children:"--prefix"}),". In this guide, we use ",(0,i.jsx)(n.code,{children:"/usr/local/cloudberry-db"})," as the installation directory."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--disable-gpfdist"})}),(0,i.jsx)(n.td,{children:"Do not use gpfdist"}),(0,i.jsx)(n.td,{children:"Enable gpfdist by default. This requires apr lib and libevent to be installed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--disable-pxf"})}),(0,i.jsx)(n.td,{children:"Do not build PXF."}),(0,i.jsx)(n.td,{children:"Enable PXF by default."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--enable-orafce"})}),(0,i.jsx)(n.td,{children:"Build with Oracle compatibility functions."}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--enable-debug"})}),(0,i.jsx)(n.td,{children:"Build all programs and libraries with debugging symbols."}),(0,i.jsx)(n.td,{children:"This means that you can run the programs in a debugger to analyze problems. This enlarges the size of the installed executables considerably, and on non-GCC compilers it usually also disables compiler optimization, causing slowdowns. However, having the symbols available is extremely helpful for dealing with any problems that might arise. Currently, this option is recommended for production installations only if you use GCC. But you should always have it on if you are doing development work or running a beta version."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--enable-profiling"})}),(0,i.jsx)(n.td,{children:"Build with profiling enabled."}),(0,i.jsx)(n.td,{children:"This option is for use only with GCC and when doing development work."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--enable-tap-tests"})}),(0,i.jsx)(n.td,{children:"Enable tests using the Perl TAP tools."}),(0,i.jsxs)(n.td,{children:["This requires ",(0,i.jsx)(n.code,{children:"Perl"})," and Perl module ",(0,i.jsx)(n.code,{children:"IPC::Run"})," to be installed."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--enable-cassert"})}),(0,i.jsx)(n.td,{children:"Enable assertion checks (for debugging)"}),(0,i.jsx)(n.td,{children:"Enables assertion checks in the server, which test for many \u201ccannot happen\u201d conditions. This is invaluable for code development purposes, but the tests can slow down the server significantly. This option is not recommended for production use, but you should have it on for development work or when running a beta version."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--disable-orca"})}),(0,i.jsx)(n.td,{children:"Disable ORCA optimizer"}),(0,i.jsx)(n.td,{children:"ORCA is enabled by default. ORCA requires xerces-c library to be installed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--enable-mapreduce"})}),(0,i.jsx)(n.td,{children:"Enable Cloudberry Mapreduce support"}),(0,i.jsx)(n.td,{children:"This requires libyaml to be installed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--enable-gpcloud"})}),(0,i.jsx)(n.td,{children:"Enable gpcloud support"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--enable-external-fts"})}),(0,i.jsx)(n.td,{children:"Enable external fts support"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--enable-ic-proxy"})}),(0,i.jsx)(n.td,{children:"Enable interconnect proxy mode"}),(0,i.jsx)(n.td,{children:"This requires libuv library to be installed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--enable-pax"})}),(0,i.jsx)(n.td,{children:"Enable PAX support"}),(0,i.jsxs)(n.td,{children:["gcc/gcc-c++ 11+, cmake3, protobuf and ZSTD are required, see details ",(0,i.jsx)(n.a,{href:"https://github.com/apache/cloudberry/blob/main/contrib/pax_storage/doc/README.md#build",children:"here"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-includes=DIRS"})}),(0,i.jsx)(n.td,{children:"Look for additional header files in DIRS"}),(0,i.jsx)(n.td,{children:"The Xerces-C is required to build with ORCA."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-libraries=DIRS"})}),(0,i.jsx)(n.td,{children:"Look for additional libraries in DIRS"}),(0,i.jsx)(n.td,{children:"The library xerces-c is required to build with ORCA"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-pgport=PORTNUM"})}),(0,i.jsx)(n.td,{children:"Set default port number [5432]"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"--with-pgport=5432"})," is used in this guide."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-llvm"})}),(0,i.jsx)(n.td,{children:"Build with LLVM based JIT support"}),(0,i.jsx)(n.td,{children:"This requires the LLVM library to be installed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-icu"})}),(0,i.jsx)(n.td,{children:"Build with ICU support"}),(0,i.jsx)(n.td,{children:"This requires the ICU4C package to be installed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-perl"})}),(0,i.jsx)(n.td,{children:"Build Perl modules (PL/Perl)"}),(0,i.jsx)(n.td,{children:"This requires Perl devel packages to be installed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-python"})}),(0,i.jsx)(n.td,{children:"Build Python modules (PL/Python)"}),(0,i.jsx)(n.td,{children:"This requires Python3 devel packages to be installed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-pythonsrc-ext"})}),(0,i.jsx)(n.td,{children:"Build Python modules for gpMgmt"}),(0,i.jsxs)(n.td,{children:["Recommended options. It's used for gpMgmt tools. If you don't build with this option, you will need to install the Python packages from the Linux distros after installing Cloudberry: ",(0,i.jsx)(n.code,{children:"psutil"}),", ",(0,i.jsx)(n.code,{children:"pygresql"}),", ",(0,i.jsx)(n.code,{children:"pyyaml"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-gssapi"})}),(0,i.jsx)(n.td,{children:"Build with GSSAPI support"}),(0,i.jsx)(n.td,{children:"The GSSAPI system is usually a part of the Kerberos installation, so this requires the krb5 package to be installed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-pam"})}),(0,i.jsx)(n.td,{children:"Build with PAM (Pluggable Authentication Modules) support."}),(0,i.jsx)(n.td,{children:"This requires the PAM package to be installed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-ldap"})}),(0,i.jsx)(n.td,{children:"Build with LDAP support for authentication and connection parameter lookup."}),(0,i.jsx)(n.td,{children:"This requires the OpenLDAP package to be installed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-uuid=LIB"})}),(0,i.jsx)(n.td,{children:"Build contrib/uuid-ossp module using LIB (bsd,e2fs,ossp)."}),(0,i.jsxs)(n.td,{children:[(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)(n.code,{children:"bsd"})," to use the UUID functions found in FreeBSD and some other BSD-derived systems"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)(n.code,{children:"e2fs"})," to use the UUID library created by the e2fsprogs project; this library is present in most Linux systems and in macOS, and can be obtained for other platforms as well"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)(n.code,{children:"ossp"})," to use the OSSP UUID library"]})]})," So we use ",(0,i.jsx)(n.code,{children:"--with-uuid=e2fs"})," in the build under Linux/macOS - this requires the uuid library to be installed."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-libxml"})}),(0,i.jsx)(n.td,{children:"Build with libxml2, enabling SQL/XML support."}),(0,i.jsx)(n.td,{children:"This requires libxml2 to be installed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-lz4"})}),(0,i.jsx)(n.td,{children:"Build with LZ4 compression support"}),(0,i.jsx)(n.td,{children:"This allows the use of LZ4 for compression of table data and lz4 library is required to be installed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-quicklz"})}),(0,i.jsx)(n.td,{children:"Build with QuickLZ support"}),(0,i.jsx)(n.td,{children:"This requires quicklz library to be installed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--with-ssl=LIB"})}),(0,i.jsx)(n.td,{children:"Build with support for SSL (encrypted) connections."}),(0,i.jsxs)(n.td,{children:["The only LIBRARY supported is openssl, so ",(0,i.jsx)(n.code,{children:"--with-ssl=openssl"})," is used in this guide. This requires the OpenSSL package to be installed."]})]})]})]})]})}function p(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},85162:(e,n,r)=>{r.d(n,{Z:()=>l});r(67294);var i=r(90512);const s={tabItem:"tabItem_Ymn6"};var t=r(85893);function l(e){let{children:n,hidden:r,className:l}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,i.Z)(s.tabItem,l),hidden:r,children:n})}},74866:(e,n,r)=>{r.d(n,{Z:()=>v});var i=r(67294),s=r(90512),t=r(12466),l=r(16550),d=r(20469),o=r(91980),c=r(67392),a=r(50012);function u(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:r}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:r,attributes:i,default:s}}=e;return{value:n,label:r,attributes:i,default:s}}))}(r);return function(e){const n=(0,c.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function p(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function b(e){let{queryString:n=!1,groupId:r}=e;const s=(0,l.k6)(),t=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,o._X)(t),(0,i.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(s.location.search);n.set(t,e),s.replace({...s.location,search:n.toString()})}),[t,s])]}function x(e){const{defaultValue:n,queryString:r=!1,groupId:s}=e,t=h(e),[l,o]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=r.find((e=>e.default))??r[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:t}))),[c,u]=b({queryString:r,groupId:s}),[x,j]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,t]=(0,a.Nk)(r);return[s,(0,i.useCallback)((e=>{r&&t.set(e)}),[r,t])]}({groupId:s}),f=(()=>{const e=c??x;return p({value:e,tabValues:t})?e:null})();(0,d.Z)((()=>{f&&o(f)}),[f]);return{selectedValue:l,selectValue:(0,i.useCallback)((e=>{if(!p({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),j(e)}),[u,j,t]),tabValues:t}}var j=r(72389);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var m=r(85893);function g(e){let{className:n,block:r,selectedValue:i,selectValue:l,tabValues:d}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,t.o5)(),a=e=>{const n=e.currentTarget,r=o.indexOf(n),s=d[r].value;s!==i&&(c(n),l(s))},u=e=>{let n=null;switch(e.key){case"Enter":a(e);break;case"ArrowRight":{const r=o.indexOf(e.currentTarget)+1;n=o[r]??o[0];break}case"ArrowLeft":{const r=o.indexOf(e.currentTarget)-1;n=o[r]??o[o.length-1];break}}n?.focus()};return(0,m.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":r},n),children:d.map((e=>{let{value:n,label:r,attributes:t}=e;return(0,m.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>o.push(e),onKeyDown:u,onClick:a,...t,className:(0,s.Z)("tabs__item",f.tabItem,t?.className,{"tabs__item--active":i===n}),children:r??n},n)}))})}function y(e){let{lazy:n,children:r,selectedValue:s}=e;const t=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=t.find((e=>e.props.value===s));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return(0,m.jsx)("div",{className:"margin-top--md",children:t.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function w(e){const n=x(e);return(0,m.jsxs)("div",{className:(0,s.Z)("tabs-container",f.tabList),children:[(0,m.jsx)(g,{...e,...n}),(0,m.jsx)(y,{...e,...n})]})}function v(e){const n=(0,j.Z)();return(0,m.jsx)(w,{...e,children:u(e.children)},String(n))}},11151:(e,n,r)=>{r.d(n,{Z:()=>d,a:()=>l});var i=r(67294);const s={},t=i.createContext(s);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);