"use strict";(self.webpackChunkApache_Cloudberry_Incubating_website=self.webpackChunkApache_Cloudberry_Incubating_website||[]).push([[9776],{89242:(s,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>c,default:()=>x,frontMatter:()=>i,metadata:()=>r,toc:()=>o});var d=t(85893),n=t(11151);const i={title:"pg_replication_slots"},c="pg_replication_slots",r={id:"sys-catalogs/sys-views/pg-replication-slots",title:"pg_replication_slots",description:"pgreplicationslots \u89c6\u56fe\u63d0\u4f9b\u4e86\u6570\u636e\u5e93\u96c6\u7fa4\u4e0a\u5f53\u524d\u5b58\u5728\u7684\u6240\u6709\u590d\u5236\u69fd\u7684\u5217\u8868\u53ca\u5176\u5f53\u524d\u72b6\u6001\u3002\u5b83\u5305\u62ec\u69fd\u540d\u79f0\u3001\u7c7b\u578b\uff08\u7269\u7406\u6216\u903b\u8f91\uff09\u3001\u5173\u8054\u6570\u636e\u5e93\u3001\u6d3b\u52a8\u72b6\u6001\u548c WAL \u4f4d\u7f6e\u7b49\u4fe1\u606f\u3002\u6b64\u89c6\u56fe\u5bf9\u4e8e\u76d1\u63a7\u590d\u5236\u69fd\u4f7f\u7528\u60c5\u51b5\u548c\u786e\u4fdd\u6b63\u786e\u7684\u590d\u5236\u884c\u4e3a\u81f3\u5173\u91cd\u8981\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/version-2.x/sys-catalogs/sys-views/pg-replication-slots.md",sourceDirName:"sys-catalogs/sys-views",slug:"/sys-catalogs/sys-views/pg-replication-slots",permalink:"/zh/docs/sys-catalogs/sys-views/pg-replication-slots",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/cloudberry-site/edit/main/i18n/zh/docusaurus-plugin-content-docs/version-2.x/sys-catalogs/sys-views/pg-replication-slots.md",tags:[],version:"2.x",lastUpdatedBy:"Dianjin Wang",lastUpdatedAt:1749108044,formattedLastUpdatedAt:"2025\u5e746\u67085\u65e5",frontMatter:{title:"pg_replication_slots"},sidebar:"docsbars",previous:{title:"pg_replication_origin_status",permalink:"/zh/docs/sys-catalogs/sys-views/pg-replication-origin-status"},next:{title:"pg_stat_all_tables",permalink:"/zh/docs/sys-catalogs/sys-views/pg-stat-all-tables"}},l={},o=[];function h(s){const e={code:"code",h1:"h1",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.a)(),...s.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.h1,{id:"pg_replication_slots",children:"pg_replication_slots"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.code,{children:"pg_replication_slots"})," \u89c6\u56fe\u63d0\u4f9b\u4e86\u6570\u636e\u5e93\u96c6\u7fa4\u4e0a\u5f53\u524d\u5b58\u5728\u7684\u6240\u6709\u590d\u5236\u69fd\u7684\u5217\u8868\u53ca\u5176\u5f53\u524d\u72b6\u6001\u3002\u5b83\u5305\u62ec\u69fd\u540d\u79f0\u3001\u7c7b\u578b\uff08\u7269\u7406\u6216\u903b\u8f91\uff09\u3001\u5173\u8054\u6570\u636e\u5e93\u3001\u6d3b\u52a8\u72b6\u6001\u548c WAL \u4f4d\u7f6e\u7b49\u4fe1\u606f\u3002\u6b64\u89c6\u56fe\u5bf9\u4e8e\u76d1\u63a7\u590d\u5236\u69fd\u4f7f\u7528\u60c5\u51b5\u548c\u786e\u4fdd\u6b63\u786e\u7684\u590d\u5236\u884c\u4e3a\u81f3\u5173\u91cd\u8981\u3002"]}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"\u540d\u79f0"}),(0,d.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,d.jsx)(e.th,{children:"\u5f15\u7528"}),(0,d.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"slot_name"})}),(0,d.jsx)(e.td,{children:"name"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"\u590d\u5236\u69fd\u7684\u552f\u4e00\u3001\u96c6\u7fa4\u8303\u56f4\u6807\u8bc6\u7b26\u3002"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"plugin"})}),(0,d.jsx)(e.td,{children:"name"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"\u6b64\u903b\u8f91\u69fd\u6b63\u5728\u4f7f\u7528\u7684\u8f93\u51fa\u63d2\u4ef6\u6240\u5305\u542b\u7684\u5171\u4eab\u5bf9\u8c61\u7684\u57fa\u672c\u540d\u79f0\uff0c\u7269\u7406\u69fd\u5219\u4e3a null\u3002"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"slot_type"})}),(0,d.jsx)(e.td,{children:"text"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"\u69fd\u7c7b\u578b - \u7269\u7406\u6216\u903b\u8f91\u3002"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"datoid"})}),(0,d.jsx)(e.td,{children:"oid"}),(0,d.jsx)(e.td,{children:"pg_database.oid"}),(0,d.jsx)(e.td,{children:"\u6b64\u69fd\u5173\u8054\u7684\u6570\u636e\u5e93 OID\uff0c\u6216 null\u3002\u53ea\u6709\u903b\u8f91\u69fd\u624d\u6709\u5173\u8054\u7684\u6570\u636e\u5e93\u3002"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"database"})}),(0,d.jsx)(e.td,{children:"name"}),(0,d.jsx)(e.td,{children:"pg_database.datname"}),(0,d.jsx)(e.td,{children:"\u6b64\u69fd\u5173\u8054\u7684\u6570\u636e\u5e93\u540d\u79f0\uff0c\u6216 null\u3002\u53ea\u6709\u903b\u8f91\u69fd\u624d\u6709\u5173\u8054\u7684\u6570\u636e\u5e93\u3002"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"temporary"})}),(0,d.jsx)(e.td,{children:"boolean"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"\u5982\u679c\u8fd9\u662f\u4e00\u4e2a\u4e34\u65f6\u590d\u5236\u69fd\uff0c\u5219\u4e3a True\u3002\u4e34\u65f6\u69fd\u4e0d\u4fdd\u5b58\u5230\u78c1\u76d8\uff0c\u5e76\u5728\u9519\u8bef\u6216\u4f1a\u8bdd\u7ed3\u675f\u65f6\u81ea\u52a8\u5220\u9664\u3002"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"active"})}),(0,d.jsx)(e.td,{children:"boolean"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"\u5982\u679c\u6b64\u69fd\u5f53\u524d\u6b63\u5728\u88ab\u4e3b\u52a8\u4f7f\u7528\uff0c\u5219\u4e3a True\u3002"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"active_pid"})}),(0,d.jsx)(e.td,{children:"integer"}),(0,d.jsx)(e.td,{}),(0,d.jsxs)(e.td,{children:["\u5982\u679c\u6b64\u69fd\u5f53\u524d\u6b63\u5728\u88ab\u4e3b\u52a8\u4f7f\u7528\uff0c\u5219\u4e3a\u4f7f\u7528\u6b64\u69fd\u7684\u4f1a\u8bdd\u7684\u8fdb\u7a0b ID\u3002\u5982\u679c\u975e\u6d3b\u52a8\uff0c\u5219\u4e3a ",(0,d.jsx)(e.code,{children:"NULL"}),"\u3002"]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"xmin"})}),(0,d.jsx)(e.td,{children:"xid"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"\u6b64\u69fd\u9700\u8981\u6570\u636e\u5e93\u4fdd\u7559\u7684\u6700\u65e7\u4e8b\u52a1\u3002VACUUM \u65e0\u6cd5\u5220\u9664\u4efb\u4f55\u540e\u7eed\u4e8b\u52a1\u5220\u9664\u7684\u5143\u7ec4\u3002"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"catalog_xmin"})}),(0,d.jsx)(e.td,{children:"xid"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"\u6b64\u69fd\u9700\u8981\u6570\u636e\u5e93\u4fdd\u7559\u7684\u3001\u5f71\u54cd\u7cfb\u7edf\u76ee\u5f55\u7684\u6700\u65e7\u4e8b\u52a1\u3002VACUUM \u65e0\u6cd5\u5220\u9664\u4efb\u4f55\u540e\u7eed\u4e8b\u52a1\u5220\u9664\u7684\u76ee\u5f55\u5143\u7ec4\u3002"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"restart_lsn"})}),(0,d.jsx)(e.td,{children:"pg_lsn"}),(0,d.jsx)(e.td,{}),(0,d.jsxs)(e.td,{children:["\u6b64\u69fd\u7684\u6d88\u8d39\u8005\u53ef\u80fd\u4ecd\u7136\u9700\u8981\u7684\u3001\u6700\u65e7 WAL \u7684\u5730\u5740 (LSN)\uff0c\u56e0\u6b64\u5728\u68c0\u67e5\u70b9\u671f\u95f4\u4e0d\u4f1a\u81ea\u52a8\u5220\u9664\u3002\u5982\u679c\u6b64\u69fd\u7684 LSN \u4ece\u672a\u88ab\u4fdd\u7559\uff0c\u5219\u4e3a ",(0,d.jsx)(e.code,{children:"NULL"}),"\u3002"]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"confirmed_flush_lsn"})}),(0,d.jsx)(e.td,{children:"pg_lsn"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"\u903b\u8f91\u69fd\u7684\u6d88\u8d39\u8005\u5df2\u786e\u8ba4\u63a5\u6536\u6570\u636e\u5230\u7684\u5730\u5740 (LSN)\u3002\u65e9\u4e8e\u6b64\u7684\u6570\u636e\u4e0d\u518d\u53ef\u7528\u3002\u7269\u7406\u69fd\u4e3a NULL\u3002"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"wal_status"})}),(0,d.jsx)(e.td,{children:"text"}),(0,d.jsx)(e.td,{}),(0,d.jsxs)(e.td,{children:["\u6307\u793a\u590d\u5236\u69fd\u7684 WAL \u6587\u4ef6\u53ef\u7528\u6027\u3002\u53ef\u80fd\u7684\u503c\u5305\u62ec ",(0,d.jsx)(e.code,{children:"reserved"}),"\u3001",(0,d.jsx)(e.code,{children:"extended"}),"\u3001",(0,d.jsx)(e.code,{children:"unreserved"})," \u548c ",(0,d.jsx)(e.code,{children:"lost"}),"\uff0c\u53cd\u6620\u4e86\u69fd\u5728 WAL \u4fdd\u7559\u65b9\u9762\u7684\u5f53\u524d\u72b6\u6001\u3002"]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"safe_wal_size"})}),(0,d.jsx)(e.td,{children:"bigint"}),(0,d.jsx)(e.td,{}),(0,d.jsxs)(e.td,{children:["\u8868\u793a\u5728\u69fd\u9762\u4e34\u8fdb\u5165 ",(0,d.jsx)(e.code,{children:"lost"})," \u72b6\u6001\u4e4b\u524d\u53ef\u4ee5\u5199\u5165\u7684 WAL \u6570\u636e\u91cf\uff08\u5b57\u8282\uff09\u3002\u503c\u4e3a\u96f6\u6216 null \u8868\u793a\u5373\u5c06\u9762\u4e34\u98ce\u9669\u6216\u69fd\u5df2\u4e22\u5931\u3002"]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"two_phase"})}),(0,d.jsx)(e.td,{children:"boolean"}),(0,d.jsx)(e.td,{}),(0,d.jsxs)(e.td,{children:["\u6307\u793a\u590d\u5236\u69fd\u662f\u5426\u652f\u6301\u89e3\u7801\u51c6\u5907\u597d\u7684\u4e8b\u52a1\uff08\u4e24\u9636\u6bb5\u63d0\u4ea4\uff09\u3002\u5bf9\u4e8e\u542f\u7528\u4e86\u4e24\u9636\u6bb5\u89e3\u7801\u7684\u903b\u8f91\u69fd\uff0c\u6b64\u503c\u4e3a ",(0,d.jsx)(e.code,{children:"true"}),"\uff1b\u5bf9\u4e8e\u7269\u7406\u69fd\uff0c\u6b64\u503c\u4e3a ",(0,d.jsx)(e.code,{children:"false"}),"\u3002"]})]})]})]})]})}function x(s={}){const{wrapper:e}={...(0,n.a)(),...s.components};return e?(0,d.jsx)(e,{...s,children:(0,d.jsx)(h,{...s})}):h(s)}},11151:(s,e,t)=>{t.d(e,{Z:()=>r,a:()=>c});var d=t(67294);const n={},i=d.createContext(n);function c(s){const e=d.useContext(i);return d.useMemo((function(){return"function"==typeof s?s(e):{...e,...s}}),[e,s])}function r(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(n):s.components||n:c(s.components),d.createElement(i.Provider,{value:e},s.children)}}}]);