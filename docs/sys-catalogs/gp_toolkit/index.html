<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-2.x docs-doc-page docs-doc-id-sys-catalogs/gp_toolkit" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">gp_toolkit | Apache Cloudberry (Incubating)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://cloudberry.apache.org/docs/sys-catalogs/gp_toolkit"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.x"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.x"><meta data-rh="true" name="docsearch:version" content="2.x"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.x"><meta data-rh="true" property="og:title" content="gp_toolkit | Apache Cloudberry (Incubating)"><meta data-rh="true" name="description" content="Apache Cloudberry provides an administrative schema called gptoolkit that you can use to query the system catalogs, log files, and operating environment for system status information. The gptoolkit schema contains a number of views that you can access using SQL commands. The gptoolkit schema is accessible to all database users, although some objects may require superuser permissions. For convenience, you may want to add the gptoolkit schema to your schema search path. For example:"><meta data-rh="true" property="og:description" content="Apache Cloudberry provides an administrative schema called gptoolkit that you can use to query the system catalogs, log files, and operating environment for system status information. The gptoolkit schema contains a number of views that you can access using SQL commands. The gptoolkit schema is accessible to all database users, although some objects may require superuser permissions. For convenience, you may want to add the gptoolkit schema to your schema search path. For example:"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://cloudberry.apache.org/docs/sys-catalogs/gp_toolkit"><link data-rh="true" rel="alternate" href="https://cloudberry.apache.org/docs/sys-catalogs/gp_toolkit" hreflang="en"><link data-rh="true" rel="alternate" href="https://cloudberry.apache.org/zh/docs/sys-catalogs/gp_toolkit" hreflang="zh"><link data-rh="true" rel="alternate" href="https://cloudberry.apache.org/docs/sys-catalogs/gp_toolkit" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Cloudberry (Incubating) is one advanced and mature open-source MPP (Massively Parallel Processing) databases available. RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Cloudberry (Incubating) is one advanced and mature open-source MPP (Massively Parallel Processing) databases available. Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Apache Cloudberry (Incubating) is one advanced and mature open-source MPP (Massively Parallel Processing) databases available. JSON Feed">




<link rel="preconnect" href="https://analytics.apache.org/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://analytics.apache.org/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","66"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script><link rel="stylesheet" href="/assets/css/styles.11924ad3.css">
<script src="/assets/js/runtime~main.1a5519b8.js" defer="defer"></script>
<script src="/assets/js/main.c201da55.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="tipsWrap_WWTe"><div class="tipsContent_sMsy"><div class="text_VINd"><a href="https://github.com/apache/cloudberry" target="_blank" rel="noopener noreferrer"><span>If you like Apache Cloudberry (Incubating), give it a star on GitHub! </span><img src="/img/home/hcard/star.svg" alt=""></a></div><div class="close_vVex"><img src="/img/home/hcard/close.svg" alt=""></div></div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div class="nav-left-logo"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/apache_cloudberry_color_black.svg" alt="Apache Cloudberry (Incubating)" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/apache_cloudberry_color_white.svg" alt="Apache Cloudberry (Incubating)" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" versions="current,2.x,1.x" href="/docs/">2.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/sys-catalogs/gp_toolkit">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/sys-catalogs/gp_toolkit">2.x</a></li><li><a class="dropdown__link" href="/docs/1.x/">1.x</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/community">Overview</a></li><li><a class="dropdown__link" href="/community/slack">Slack Guide</a></li><li><a class="dropdown__link" href="/community/wechat">WeChat Guide</a></li><li><a class="dropdown__link" href="/community/events">Community Events</a></li><li><a class="dropdown__link" href="/community/mailing-lists">Mailing Lists</a></li><li><a class="dropdown__link" href="/community/brand">Brand Guidelines</a></li><li><a class="dropdown__link" href="/community/security">Security Policy</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Contribute</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/contribute">Overview</a></li><li><a class="dropdown__link" href="/contribute/how-to-contribute">How to Contribute</a></li><li><a class="dropdown__link" href="/contribute/git">Working with Git &amp; GitHub</a></li><li><a class="dropdown__link" href="/contribute/code">Code Contribution Guide</a></li><li><a class="dropdown__link" href="/contribute/proposal">Proposal Guide</a></li><li><a class="dropdown__link" href="/contribute/doc">Doc Contribution Guide</a></li></ul></div><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/releases">Download</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Team</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/team">Who we are</a></li><li><a class="dropdown__link" href="/team/new-committers">Inviting New Committers</a></li><li><a class="dropdown__link" href="/team/sign-icla">Sign ICLA</a></li><li><a class="dropdown__link" href="/team/setup-apache-email-account">Setup the Apache account</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Resources</a><ul class="dropdown__menu"><li><a href="https://github.com/apache/cloudberry/wiki" target="_blank" rel="noopener noreferrer" class="dropdown__link">Wiki</a></li><li><a href="https://github.com/apache/cloudberry/discussions/868" target="_blank" rel="noopener noreferrer" class="dropdown__link">Roadmap</a></li><li><a href="https://github.com/apache/cloudberry/discussions" target="_blank" rel="noopener noreferrer" class="dropdown__link">Forum</a></li><li><a class="dropdown__link" href="/bootcamp">Bootcamp</a></li><li><a class="dropdown__link" href="/support">Support</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li><li><a href="https://www.apache.org/foundation/policies/conduct" target="_blank" rel="noopener noreferrer" class="dropdown__link">Code of Conduct</a></li></ul></div><div class="toggle_vylO colorModeToggle_x44X check-theme-switch"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_dCNk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_BF9v"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_Rg9N"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebarViewport_pYEE"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/deployment/">Deploy and Build</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/data-loading/">Load Data</a><button aria-label="Expand sidebar category &#x27;Load Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/operate-with-data/operate-with-db-objects/create-and-manage-database">Create and Prepare</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/operate-with-data/operate-with-db-objects/create-and-manage-tablespaces">Operate with Data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/performance/">Optimize Performance</a><button aria-label="Expand sidebar category &#x27;Optimize Performance&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/security/">Security and Permission</a><button aria-label="Expand sidebar category &#x27;Security and Permission&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/sys-admin/backup-and-restore/">Manage System</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/developer/develop-extensions-using-rust">Developer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ecosystem/sql-clients/dbeaver">Ecosystem</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/sql-stmts/">References</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sql-stmts/">SQL Statements</a><button aria-label="Expand sidebar category &#x27;SQL Statements&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-types">Data Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-params-guc-list">Configuration Parameters</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/functions/">Built-in Functions</a><button aria-label="Expand sidebar category &#x27;Built-in Functions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sys-utilities/">System Utilities</a><button aria-label="Expand sidebar category &#x27;System Utilities&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/sys-catalogs/sys-tables/gp-configuration-history">System Catalogs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/sys-catalogs/sys-tables/gp-configuration-history">System Tables</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/sys-catalogs/sys-views/gp-distributed-log">System Views</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/sys-catalogs/gp_toolkit">gp_toolkit</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/releases/">Releases</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_hjYf"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xK9p"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link" id="支付">References</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link" id="支付">System Catalogs</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">gp_toolkit</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.x</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_bxCs"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>The gp_toolkit Administrative Schema</h1>
<p>Apache Cloudberry provides an administrative schema called <code>gp_toolkit</code> that you can use to query the system catalogs, log files, and operating environment for system status information. The <code>gp_toolkit</code> schema contains a number of views that you can access using SQL commands. The <code>gp_toolkit</code> schema is accessible to all database users, although some objects may require superuser permissions. For convenience, you may want to add the <code>gp_toolkit</code> schema to your schema search path. For example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token operator" style="color:#66d9ef">=</span><span class="token operator" style="color:#66d9ef">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">ALTER</span><span class="token plain"> ROLE myrole </span><span class="token keyword" style="color:#66d9ef">SET</span><span class="token plain"> search_path </span><span class="token keyword" style="color:#66d9ef">TO</span><span class="token plain"> myschema</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">gp_toolkit</span><span class="token punctuation" style="color:#f8f8f2">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This document describes the most useful views and user-defined functions (UDFs) in <code>gp_toolkit</code>. You may notice other objects (views, functions, and external tables) within the <code>gp_toolkit</code> schema that are not described in this documentation (these are supporting objects to the views described in this section).</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Do not change database objects in the gp_toolkit schema. Do not create database objects in the schema. Changes to objects in the schema might affect the accuracy of administrative information returned by schema objects. Any changes made in the gp_toolkit schema are lost when the database is backed up and then restored with the <code>gpbackup</code> and <code>gprestore</code> utilities.</p></div></div>
<p>These are the categories for views in the <code>gp_toolkit</code> schema.</p>
<ul>
<li><a href="#check-for-tables-that-need-routine-maintenance">Check for tables that need routine maintenance</a></li>
<li><a href="#check-for-locks">Check for locks</a></li>
<li><a href="#check-append-optimized-tables">Check append-optimized tables</a></li>
<li><a href="#view-server-log-files">View server log files</a></li>
<li><a href="#check-server-configuration-files">Check server configuration files</a></li>
<li><a href="#check-for-failed-segments">Check for failed segments</a></li>
<li><a href="#check-resource-group-activity-and-status">Check resource group activity and status</a></li>
<li><a href="#check-resource-queue-activity-and-status">Check resource queue activity and status</a></li>
<li><a href="#check-query-disk-spill-space-usage">Check query disk spill space usage</a></li>
<li><a href="#view-users-and-groups-roles">View users and groups (roles)</a></li>
<li><a href="#check-database-object-sizes-and-disk-space">Check database object sizes and disk space</a></li>
<li><a href="#check-for-missing-and-orphaned-data-files">Check for missing and orphaned data files</a></li>
<li><a href="#move-orphaned-data-files">Move orphaned data files</a></li>
<li><a href="#check-for-uneven-data-distribution">Check for uneven data distribution</a></li>
<li><a href="#maintain-partitions">Maintain partitions</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="about-the-extension">About the extension<a href="#about-the-extension" class="hash-link" aria-label="Direct link to About the extension" title="Direct link to About the extension">​</a></h2>
<p><code>gp_toolkit</code> is implemented as an extension in Apache Cloudberry v2.0.0. Because this extension is registered in the <code>template1</code> database, it is both registered an immediately available to use in every Apache Cloudberry database that you create.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-the-extension">Upgrade the extension<a href="#upgrade-the-extension" class="hash-link" aria-label="Direct link to Upgrade the extension" title="Direct link to Upgrade the extension">​</a></h2>
<p>The <code>gp_toolkit</code> extension is installed when you install or upgrade Apache Cloudberry. A previous version of the extension will continue to work in existing databases after you upgrade Apache Cloudberry. To upgrade to the most recent version of the extension, you must:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">ALTER</span><span class="token plain"> EXTENSION gp_toolkit </span><span class="token keyword" style="color:#66d9ef">UPDATE</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">TO</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;1.4&#x27;</span><span class="token punctuation" style="color:#f8f8f2">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>in <strong>every</strong> database in which you use the extension.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-for-tables-that-need-routine-maintenance">Check for tables that need routine maintenance<a href="#check-for-tables-that-need-routine-maintenance" class="hash-link" aria-label="Direct link to Check for tables that need routine maintenance" title="Direct link to Check for tables that need routine maintenance">​</a></h2>
<p>The following views can help identify tables that need routine table maintenance (<code>VACUUM</code> and/or <code>ANALYZE</code>).</p>
<ul>
<li><a href="#gp_bloat_diag"><code>gp_bloat_diag</code></a></li>
<li><a href="#gp_stats_missing"><code>gp_stats_missing</code></a></li>
</ul>
<p>The <code>VACUUM</code> or <code>VACUUM FULL</code> command reclaims disk space occupied by deleted or obsolete rows. Because of the MVCC transaction concurrency model used in Apache Cloudberry, data rows that are deleted or updated still occupy physical space on disk even though they are not visible to any new transactions. Expired rows increase table size on disk and eventually slow down scans of the table.</p>
<p>The <code>ANALYZE</code> command collects column-level statistics needed by the query optimizer. Apache Cloudberry uses a cost-based query optimizer that relies on database statistics. Accurate statistics allow the query optimizer to better estimate selectivity and the number of rows retrieved by a query operation in order to choose the most efficient query plan.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_bloat_diag">gp_bloat_diag<a href="#gp_bloat_diag" class="hash-link" aria-label="Direct link to gp_bloat_diag" title="Direct link to gp_bloat_diag">​</a></h3>
<p>This view shows regular heap-storage tables that have bloat (the actual number of pages on disk exceeds the expected number of pages given the table statistics). Tables that are bloated require a <code>VACUUM</code> or a <code>VACUUM FULL</code> in order to reclaim disk space occupied by deleted or obsolete rows. This view is accessible to all users, however non-superusers will only be able to see the tables that they have permission to access.</p>
<p>Note</p>
<p>For diagnostic functions that return append-optimized table information, see <a href="#check-append-optimized-tables">Check append-optimized tables</a>.</p>
<p>The columns of this view are described as follows:</p>
<ul>
<li><code>bdirelid</code>: Table object id.</li>
<li><code>bdinspname</code>: Schema name.</li>
<li><code>bdirelname</code>: Table name.</li>
<li><code>bdirelpages</code>: Actual number of pages on disk.</li>
<li><code>bdiexppages</code>: Expected number of pages given the table data.</li>
<li><code>bdidiag</code>: Bloat diagnostic message.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_stats_missing">gp_stats_missing<a href="#gp_stats_missing" class="hash-link" aria-label="Direct link to gp_stats_missing" title="Direct link to gp_stats_missing">​</a></h3>
<p>This view shows tables that do not have statistics and therefore may require an <code>ANALYZE</code> be run on the table.</p>
<p>The columns of this view are described as follows:</p>
<ul>
<li><code>smischema</code>: Schema name.</li>
<li><code>smitable</code>: Table name.</li>
<li><code>smisize</code>: Does this table have statistics? False if the table does not have row count and row sizing statistics recorded in the system catalog, which may indicate that the table needs to be analyzed. This will also be false if the table does not contain any rows. For example, the parent tables of partitioned tables are always empty and will always return a false result.</li>
<li><code>smicols</code>: Number of columns in the table.</li>
<li><code>smirecs</code>: The total number of columns in the table that have statistics recorded.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-for-locks">Check for locks<a href="#check-for-locks" class="hash-link" aria-label="Direct link to Check for locks" title="Direct link to Check for locks">​</a></h2>
<p>When a transaction accesses a relation (such as a table), it acquires a lock. Depending on the type of lock acquired, subsequent transactions may have to wait before they can access the same relation. For more information on the types of locks, see the <a href="/docs/">Transaction</a>. Apache Cloudberry resource queues (used for resource management) also use locks to control the admission of queries into the system.</p>
<p>The <code>gp_locks_*</code> family of views can help diagnose queries and sessions that are waiting to access an object due to a lock.</p>
<ul>
<li><a href="#gp_locks_on_relation"><code>gp_locks_on_relation</code></a></li>
<li><a href="#gp_locks_on_resqueue"><code>gp_locks_on_resqueue</code></a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_locks_on_relation">gp_locks_on_relation<a href="#gp_locks_on_relation" class="hash-link" aria-label="Direct link to gp_locks_on_relation" title="Direct link to gp_locks_on_relation">​</a></h3>
<p>This view shows any locks currently being held on a relation, and the associated session information about the query associated with the lock. For more information on the types of locks, see the <a href="/docs/">Transaction</a>. This view is accessible to all users, however non-superusers will only be able to see the locks for relations that they have permission to access.</p>
<p>The columns of this view are described as follows:</p>
<ul>
<li><code>lorlocktype</code>: Type of the lockable object: <code>relation</code>, <code>extend</code>, <code>page</code>, <code>tuple</code>, <code>transactionid</code>, <code>object</code>, <code>userlock</code>, <code>resource queue</code>, or <code>advisory</code>.</li>
<li><code>lordatabase</code>: Object ID of the database in which the object exists, zero if the object is a shared object.</li>
<li><code>lorrelname</code>: The name of the relation.</li>
<li><code>lorrelation</code>: The object ID of the relation.</li>
<li><code>lortransaction</code>: The transaction ID that is affected by the lock.</li>
<li><code>lorpid</code>: Process ID of the server process holding or awaiting this lock. <code>NULL</code> if the lock is held by a prepared transaction.</li>
<li><code>lormode</code>: Name of the lock mode held or desired by this process.</li>
<li><code>lorgranted</code>: Displays whether the lock is granted (<code>true</code>) or not granted (<code>false</code>).</li>
<li><code>lorcurrentquery</code>: The current query in the session.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_locks_on_resqueue">gp_locks_on_resqueue<a href="#gp_locks_on_resqueue" class="hash-link" aria-label="Direct link to gp_locks_on_resqueue" title="Direct link to gp_locks_on_resqueue">​</a></h3>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The <code>gp_locks_on_resqueue</code> view is valid only when resource queue-based resource management is active.</p></div></div>
<p>This view shows any locks currently being held on a resource queue, and the associated session information about the query associated with the lock. This view is accessible to all users, however non-superusers will only be able to see the locks associated with their own sessions.</p>
<p>The columns of this view are described as follows:</p>
<ul>
<li><code>lorusename</code>: Name of the user running the session.</li>
<li><code>lorrsqname</code>: The resource queue name.</li>
<li><code>lorlocktype</code>: Type of the lockable object: <code>resource queue</code>.</li>
<li><code>lorobjid</code>: The ID of the locked transaction.</li>
<li><code>lortransaction</code>: The ID of the transaction that is affected by the lock.</li>
<li><code>lorpid</code>: The process ID of the transaction that is affected by the lock.</li>
<li><code>lormode</code>: The name of the lock mode held or desired by this process.</li>
<li><code>lorgranted</code>: Displays whether the lock is granted (<code>true</code>) or not granted (<code>false</code>).</li>
<li><code>lorwaiteventtype</code>: The type of waiting event (for example, I/O, lock, network).</li>
<li><code>lorwaitevent</code>: The name or description of the waiting event (for example, the I/O operation or lock object of a file).</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-append-optimized-tables">Check append-optimized tables<a href="#check-append-optimized-tables" class="hash-link" aria-label="Direct link to Check append-optimized tables" title="Direct link to Check append-optimized tables">​</a></h2>
<p>The <code>gp_toolkit</code> schema includes a set of diagnostic functions you can use to investigate the state of append-optimized tables.</p>
<p>When an append-optimized table (or column-oriented append-optimized table) is created, another table is implicitly created, containing metadata about the current state of the table. The metadata includes information such as the number of records in each of the table&#x27;s segments.</p>
<p>Append-optimized tables may have non-visible rows—rows that have been updated or deleted, but remain in storage until the table is compacted using <code>VACUUM</code>. The hidden rows are tracked using an auxiliary visibility map table, or visimap.</p>
<p>The following functions let you access the metadata for append-optimized and column-oriented tables and view non-visible rows.</p>
<p>For most of the functions, the input argument is <code>regclass</code>, either the table <code>name</code> or the <code>oid</code> of a table.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="__gp_aovisimap_compaction_infooid">__gp_aovisimap_compaction_info(oid)<a href="#__gp_aovisimap_compaction_infooid" class="hash-link" aria-label="Direct link to __gp_aovisimap_compaction_info(oid)" title="Direct link to __gp_aovisimap_compaction_info(oid)">​</a></h3>
<p>This function displays compaction information for an append-optimized table. The information is for the on-disk data files on database segments that store the table data. You can use the information to determine the data files that will be compacted by a <code>VACUUM</code> operation on an append-optimized table.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Until a <code>VACUUM</code> operation deletes the row from the data file, deleted or updated data rows occupy physical space on disk even though they are hidden to new transactions. The configuration parameter <code>gp_appendonly_compaction</code> controls the functionality of the <code>VACUUM</code> command.</p></div></div>
<p>This table describes the <code>__gp_aovisimap_compaction_info</code> function output table. The columns of this table are described as follows:</p>
<ul>
<li><code>content</code>: Database segment ID.</li>
<li><code>datafile</code>: ID of the data file on the segment.</li>
<li><code>compaction_possible</code>: The value is either <code>t</code> or <code>f</code>. The value <code>t</code> indicates that the data in data file be compacted when a VACUUM operation is performed. The server configuration parameter <code>gp_appendonly_compaction_threshold</code> affects this value.</li>
<li><code>hidden_tupcount</code>: In the data file, the number of hidden (deleted or updated) rows.</li>
<li><code>total_tupcount</code>: In the data file, the total number of rows.</li>
<li><code>percent_hidden</code>: In the data file, the ratio (as a percentage) of hidden (deleted or updated) rows to total rows.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="__gp_aosegregclass">__gp_aoseg(regclass)<a href="#__gp_aosegregclass" class="hash-link" aria-label="Direct link to __gp_aoseg(regclass)" title="Direct link to __gp_aoseg(regclass)">​</a></h3>
<p>This function returns metadata information contained in the append-optimized table&#x27;s on-disk segment file.</p>
<p>The input argument is the name or the oid of an append-optimized table. The columns of the output are described as follows:</p>
<ul>
<li><code>segment_id</code>: The ID of the data segment in the cluster.</li>
<li><code>segno</code>: The file segment number.</li>
<li><code>eof</code>: The effective end of file for this file segment.</li>
<li><code>tupcount</code>: The total number of tuples in the segment, including invisible tuples.</li>
<li><code>varblockcount</code>: The total number of varblocks in the file segment.</li>
<li><code>eof_uncompressed</code>: The end of file if the file segment were uncompressed.</li>
<li><code>modcount</code>: The number of data modification operations.</li>
<li><code>formatversion</code>: The version of the AO file storage format, which indicates the format version of the file.</li>
<li><code>state</code>: The state of the file segment. Indicates if the segment is active or ready to be dropped after compaction.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="__gp_aoseg_historyregclass">__gp_aoseg_history(regclass)<a href="#__gp_aoseg_historyregclass" class="hash-link" aria-label="Direct link to __gp_aoseg_history(regclass)" title="Direct link to __gp_aoseg_history(regclass)">​</a></h3>
<p>This function returns metadata information contained in the append-optimized table&#x27;s on-disk segment file. It displays all different versions (heap tuples) of the aoseg meta information. The data is complex, but users with a deep understanding of the system may find it useful for debugging.</p>
<p>The input argument is the name or the oid of an append-optimized table. The columns of the output are described as follows:</p>
<ul>
<li><code>segment_id</code>: The ID of the data segment in the cluster.</li>
<li><code>segno</code>: The number of the segment in the segment file.</li>
<li><code>tupcount</code>: The number of tuples, including hidden tuples.</li>
<li><code>eof</code>: The effective end of file for the segment.</li>
<li><code>eof_uncompressed</code>: The end of file for the segment if data were uncompressed.</li>
<li><code>modcount</code>: A count of data modifications.</li>
<li><code>formatversion</code>: The version of the AO file storage format, which indicates the format version of the file.</li>
<li><code>state</code>: The status of the segment.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="__gp_aocssegregclass">__gp_aocsseg(regclass)<a href="#__gp_aocssegregclass" class="hash-link" aria-label="Direct link to __gp_aocsseg(regclass)" title="Direct link to __gp_aocsseg(regclass)">​</a></h3>
<p>This function returns metadata information contained in a column-oriented append-optimized table&#x27;s on-disk segment file, excluding non-visible rows. Each row describes a segment for a column in the table.</p>
<p>The input argument is the name or the oid of a column-oriented append-optimized table. The columns of the output are described as follows:</p>
<ul>
<li><code>segment_id</code>: The ID of the data segment in the cluster.</li>
<li><code>segno</code>: The segment number.</li>
<li><code>column_num</code>: The column number.</li>
<li><code>physical_segno</code>: The number of the segment in the segment file.</li>
<li><code>tupcount</code>: The number of rows in the segment, excluding hidden tuples.</li>
<li><code>eof</code>: The effective end of file for the segment.</li>
<li><code>eof_uncompressed</code>: The end of file for the segment if the data were uncompressed.</li>
<li><code>modcount</code>: A count of data modification operations for the segment.</li>
<li><code>formatversion</code>: The version of the AO file storage format, which indicates the format version of the file.</li>
<li><code>state</code>: The status of the segment.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="__gp_aocsseg_historyregclass">__gp_aocsseg_history(regclass)<a href="#__gp_aocsseg_historyregclass" class="hash-link" aria-label="Direct link to __gp_aocsseg_history(regclass)" title="Direct link to __gp_aocsseg_history(regclass)">​</a></h3>
<p>This function returns metadata information contained in a column-oriented append-optimized table&#x27;s on-disk segment file. Each row describes a segment for a column in the table. The data is complex, but users with a deep understanding of the system may find it useful for debugging.</p>
<p>The input argument is the name or the oid of a column-oriented append-optimized table. The columns of the output are described as follows:</p>
<ul>
<li><code>segment_id</code>: The ID of the data segment in the cluster.</li>
<li><code>segno</code>: The segment number in the segment file.</li>
<li><code>column_num</code>: The column number.</li>
<li><code>physical_segno</code>: The segment containing data for the column.</li>
<li><code>tupcount</code>: The total number of tuples in the segment.</li>
<li><code>eof</code>: The effective end of file for the segment.</li>
<li><code>eof_uncompressed</code>: The end of file for the segment if the data were uncompressed.</li>
<li><code>modcount</code>: A count of the data modification operations.</li>
<li><code>formatversion</code>: The version of the AO file storage format, which indicates the format version of the file.</li>
<li><code>state</code>: The state of the segment.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="__gp_aovisimapregclass">__gp_aovisimap(regclass)<a href="#__gp_aovisimapregclass" class="hash-link" aria-label="Direct link to __gp_aovisimap(regclass)" title="Direct link to __gp_aovisimap(regclass)">​</a></h3>
<p>This function returns the tuple ID, the segment file, and the row number of each non-visible tuple according to the visibility map.</p>
<p>The input argument is the name or the oid of an append-optimized table. The columns of the output are described as follows:</p>
<ul>
<li><code>tid</code>: The tuple id.</li>
<li><code>segno</code>: The number of the segment file.</li>
<li><code>row_num</code>: The row number of a row that has been deleted or updated.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="__gp_aovisimap_hidden_inforegclass">__gp_aovisimap_hidden_info(regclass)<a href="#__gp_aovisimap_hidden_inforegclass" class="hash-link" aria-label="Direct link to __gp_aovisimap_hidden_info(regclass)" title="Direct link to __gp_aovisimap_hidden_info(regclass)">​</a></h3>
<p>This function returns the numbers of hidden and visible tuples in the segment files for an append-optimized table.</p>
<p>The input argument is the name or the oid of an append-optimized table. The columns of the output are described as follows:</p>
<ul>
<li><code>segno</code>: The number of the segment file.</li>
<li><code>hidden_tupcount</code>: The number of hidden tuples in the segment file.</li>
<li><code>total_tupcount</code>: The total number of tuples in the segment file.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="__gp_aovisimap_entryregclass">__gp_aovisimap_entry(regclass)<a href="#__gp_aovisimap_entryregclass" class="hash-link" aria-label="Direct link to __gp_aovisimap_entry(regclass)" title="Direct link to __gp_aovisimap_entry(regclass)">​</a></h3>
<p>This function returns information about each visibility map entry for the table.</p>
<p>The input argument is the name or the oid of an append-optimized table. The columns of the output are described as follows:</p>
<ul>
<li><code>segno</code>: Segment number of the visibility map entry.</li>
<li><code>first_row_num</code>: The first row number of the entry.</li>
<li><code>hidden_tupcount</code>: The number of hidden tuples in the entry.</li>
<li><code>bitmap</code>: A text representation of the visibility bitmap.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="__gp_aoblkdirregclass">__gp_aoblkdir(regclass)<a href="#__gp_aoblkdirregclass" class="hash-link" aria-label="Direct link to __gp_aoblkdir(regclass)" title="Direct link to __gp_aoblkdir(regclass)">​</a></h3>
<p>For a given AO/AOCO table that had or has an index, this function returns a row for each block directory entry recorded in the block directory relation; it flattens the <code>minipage</code> column of block directory relations and returns a row for each <code>minipage</code> entry.</p>
<p>The input argument is the name or the oid of an append-optimized table.</p>
<p>You must execute this function in utility mode against every segment, or with <code>gp_dist_random()</code> as shown here:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">SELECT</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">gp_toolkit</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">__gp_aoblkdir</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&#x27;&lt;table_name&gt;&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">FROM</span><span class="token plain"> gp_dist_random</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&#x27;gp_id&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The columns of the output are described as follows:</p>
<ul>
<li><code>tupleid</code>: The tuple id of the block directory row containing this block directory entry.</li>
<li><code>segno</code>: The physical segment file number.</li>
<li><code>columngroup_no</code>: The <code>attnum</code> of the column described by this <code>minipage</code> entry (always <code>0</code> for row-oriented tables).</li>
<li><code>entry_no</code>: The entry serial number inside this <code>minipage</code> containing this block directory entry.</li>
<li><code>first_row_no</code>: The first row number of the rows covered by this block directory entry.</li>
<li><code>file_offset</code>: The starting file offset of the rows covered by this block directory entry.</li>
<li><code>row_count</code>: The count of rows covered by this block directory entry.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="get_column_sizeoid">get_column_size(oid)<a href="#get_column_sizeoid" class="hash-link" aria-label="Direct link to get_column_size(oid)" title="Direct link to get_column_size(oid)">​</a></h3>
<p>For a given AOCO table, this function returns the column size and compression ratio for all columns in the table.</p>
<p>The input argument is the object identifier of a column-oriented append-optimized table. The columns of the output are described as follows:</p>
<ul>
<li><code>segment</code>: The segment id.</li>
<li><code>attnum</code>: The attribute number of the column.</li>
<li><code>size</code>: The size of the column in bytes.</li>
<li><code>size_uncompressed</code>: The size of the column in bytes if the column was not compressed.</li>
<li><code>compression_ratio</code>: The compression ratio.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_column_size">gp_column_size<a href="#gp_column_size" class="hash-link" aria-label="Direct link to gp_column_size" title="Direct link to gp_column_size">​</a></h3>
<p>This view gathers the column size and compression ratio for column-oriented append-optimized tables from all segments. The columns of the view are described as follows:</p>
<ul>
<li><code>gp_segment_id</code>: Segment ID.</li>
<li><code>relid</code>: The object identifier (OID) of the table.</li>
<li><code>schema</code>: The schema to which the table belongs.</li>
<li><code>relname</code>: The table name.</li>
<li><code>attnum</code>: The attribute number of the column.</li>
<li><code>attname</code>: The column name.</li>
<li><code>size</code>: The size of the column in bytes.</li>
<li><code>size_uncompressed</code>: The size of the column in bytes if the column was not compressed.</li>
<li><code>compression_ratio</code>: The compression ratio.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_column_size_summary">gp_column_size_summary<a href="#gp_column_size_summary" class="hash-link" aria-label="Direct link to gp_column_size_summary" title="Direct link to gp_column_size_summary">​</a></h3>
<p>This view shows a summary of the <code>gp_column_size</code> view. It aggregates the column size and compression ratio for each column in each column-oriented append-optimized table from all segments. The columns of the view are described as follows:</p>
<ul>
<li><code>relid</code>: The object identifier (OID) of the table.</li>
<li><code>schema</code>: The schema to which the table belongs.</li>
<li><code>relname</code>: The table name.</li>
<li><code>attnum</code>: The attribute number of the column.</li>
<li><code>attname</code>: The column name.</li>
<li><code>size</code>: The size of the column in bytes.</li>
<li><code>size_uncompressed</code>: The size of the column in bytes if the column were uncompressed.</li>
<li><code>compression_ratio</code>: The compression ratio.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="view-server-log-files">View server log files<a href="#view-server-log-files" class="hash-link" aria-label="Direct link to View server log files" title="Direct link to View server log files">​</a></h2>
<p>Each component of a Apache Cloudberry system (coordinator, standby coordinator, primary segments, and mirror segments) keeps its own server log files. The <code>gp_log_*</code> family of views allows you to issue SQL queries against the server log files to find particular entries of interest. The use of these views require superuser permissions.</p>
<ul>
<li><a href="#gp_log_command_timings"><code>gp_log_command_timings</code></a></li>
<li><a href="#gp_log_database"><code>gp_log_database</code></a></li>
<li><a href="#gp_log_coordinator_concise"><code>gp_log_coordinator_concise</code></a></li>
<li><a href="#gp_log_system"><code>gp_log_system</code></a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_log_command_timings">gp_log_command_timings<a href="#gp_log_command_timings" class="hash-link" aria-label="Direct link to gp_log_command_timings" title="Direct link to gp_log_command_timings">​</a></h3>
<p>This view uses an external table to read the log files on the coordinator and report the run time of SQL commands in a database session. The use of this view requires superuser permissions. The columns of the view are described as follows:</p>
<ul>
<li><code>logsession</code>: The session identifier (prefixed with &quot;con&quot;).</li>
<li><code>logcmdcount</code>: The command number within a session (prefixed with &quot;cmd&quot;).</li>
<li><code>logdatabase</code>: The name of the database.</li>
<li><code>loguser</code>: The name of the database user.</li>
<li><code>logpid</code>: The process id (prefixed with &quot;p&quot;).</li>
<li><code>logtimemin</code>: The time of the first log message for this command.</li>
<li><code>logtimemax</code>: The time of the last log message for this command.</li>
<li><code>logduration</code>: Statement duration from start to end time.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_log_database">gp_log_database<a href="#gp_log_database" class="hash-link" aria-label="Direct link to gp_log_database" title="Direct link to gp_log_database">​</a></h3>
<p>This view uses an external table to read the server log files of the entire Apache Cloudberry system (coordinator, segments, and mirrors) and lists log entries associated with the current database. Associated log entries can be identified by the session id (logsession) and command id (logcmdcount). The use of this view requires superuser permissions. The columns of the view are described as follows:</p>
<ul>
<li><code>logtime</code>: The timestamp of the log message.</li>
<li><code>loguser</code>: The name of the database user.</li>
<li><code>logdatabase</code>: The name of the database.</li>
<li><code>logpid</code>: The associated process id (prefixed with &quot;p&quot;).</li>
<li><code>logthread</code>: The associated thread count (prefixed with &quot;th&quot;).</li>
<li><code>loghost</code>: The segment or coordinator host name.</li>
<li><code>logport</code>: The segment or coordinator port.</li>
<li><code>logsessiontime</code>: Time session connection was opened.</li>
<li><code>logtransaction</code>: Global transaction id.</li>
<li><code>logsession</code>: The session identifier (prefixed with &quot;con&quot;).</li>
<li><code>logcmdcount</code>: The command number within a session (prefixed with &quot;cmd&quot;).</li>
<li><code>logsegment</code>: The segment content identifier (prefixed with &quot;seg&quot; for primary or &quot;mir&quot; for mirror. The coordinator always has a content id of -1).</li>
<li><code>logslice</code>: The slice id (portion of the query plan being run).</li>
<li><code>logdistxact</code>: Distributed transaction id.</li>
<li><code>loglocalxact</code>: Local transaction id.</li>
<li><code>logsubxact</code>: Subtransaction id.</li>
<li><code>logseverity</code>: LOG, ERROR, FATAL, PANIC, DEBUG1 or DEBUG2.</li>
<li><code>logstate</code>: SQL state code associated with the log message.</li>
<li><code>logmessage</code>: Log or error message text.</li>
<li><code>logdetail</code>: Detail message text associated with an error message.</li>
<li><code>loghint</code>: Hint message text associated with an error message.</li>
<li><code>logquery</code>: The internally-generated query text.</li>
<li><code>logquerypos</code>: The cursor index into the internally-generated query text.</li>
<li><code>logcontext</code>: The context in which this message gets generated.</li>
<li><code>logdebug</code>: Query string with full detail for debugging.</li>
<li><code>logcursorpos</code>: The cursor index into the query string.</li>
<li><code>logfunction</code>: The function in which this message is generated.</li>
<li><code>logfile</code>: The log file in which this message is generated.</li>
<li><code>logline</code>: The line in the log file in which this message is generated.</li>
<li><code>logstack</code>: Full text of the stack trace associated with this message.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_log_coordinator_concise">gp_log_coordinator_concise<a href="#gp_log_coordinator_concise" class="hash-link" aria-label="Direct link to gp_log_coordinator_concise" title="Direct link to gp_log_coordinator_concise">​</a></h3>
<p>This view uses an external table to read a subset of the log fields from the coordinator log file. The use of this view requires superuser permissions. The columns of the view are described as follows:</p>
<ul>
<li><code>logtime</code>: The timestamp of the log message.</li>
<li><code>logdatabase</code>: The name of the database.</li>
<li><code>logsession</code>: The session identifier (prefixed with &quot;con&quot;).</li>
<li><code>logcmdcount</code>: The command number within a session (prefixed with &quot;cmd&quot;).</li>
<li><code>logseverity</code>: The log severity level.</li>
<li><code>logmessage</code>: Log or error message text.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_log_system">gp_log_system<a href="#gp_log_system" class="hash-link" aria-label="Direct link to gp_log_system" title="Direct link to gp_log_system">​</a></h3>
<p>This view uses an external table to read the server log files of the entire Apache Cloudberry system (coordinator, segments, and mirrors) and lists all log entries. Associated log entries can be identified by the session id (logsession) and command id (logcmdcount). The use of this view requires superuser permissions. The columns of the view are described as follows:</p>
<ul>
<li><code>logtime</code>: The timestamp of the log message.</li>
<li><code>loguser</code>: The name of the database user.</li>
<li><code>logdatabase</code>: The name of the database.</li>
<li><code>logpid</code>: The associated process id (prefixed with &quot;p&quot;).</li>
<li><code>logthread</code>: The associated thread count (prefixed with &quot;th&quot;).</li>
<li><code>loghost</code>: The segment or coordinator host name.</li>
<li><code>logport</code>: The segment or coordinator port.</li>
<li><code>logsessiontime</code>: Time session connection was opened.</li>
<li><code>logtransaction</code>: Global transaction id.</li>
<li><code>logsession</code>: The session identifier (prefixed with &quot;con&quot;).</li>
<li><code>logcmdcount</code>: The command number within a session (prefixed with &quot;cmd&quot;).</li>
<li><code>logsegment</code>: The segment content identifier (prefixed with &quot;seg&quot; for primary or &quot;mir&quot; for mirror. The coordinator always has a content id of -1).</li>
<li><code>logslice</code>: The slice id (portion of the query plan being run).</li>
<li><code>logdistxact</code>: Distributed transaction id.</li>
<li><code>loglocalxact</code>: Local transaction id.</li>
<li><code>logsubxact</code>: Subtransaction id.</li>
<li><code>logseverity</code>: LOG, ERROR, FATAL, PANIC, DEBUG1 or DEBUG2.</li>
<li><code>logstate</code>: SQL state code associated with the log message.</li>
<li><code>logmessage</code>: Log or error message text.</li>
<li><code>logdetail</code>: Detail message text associated with an error message.</li>
<li><code>loghint</code>: Hint message text associated with an error message.</li>
<li><code>logquery</code>: The internally-generated query text.</li>
<li><code>logquerypos</code>: The cursor index into the internally-generated query text.</li>
<li><code>logcontext</code>: The context in which this message gets generated.</li>
<li><code>logdebug</code>: Query string with full detail for debugging.</li>
<li><code>logcursorpos</code>: The cursor index into the query string.</li>
<li><code>logfunction</code>: The function in which this message is generated.</li>
<li><code>logfile</code>: The log file in which this message is generated.</li>
<li><code>logline</code>: The line in the log file in which this message is generated.</li>
<li><code>logstack</code>: Full text of the stack trace associated with this message.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-server-configuration-files">Check server configuration files<a href="#check-server-configuration-files" class="hash-link" aria-label="Direct link to Check server configuration files" title="Direct link to Check server configuration files">​</a></h2>
<p>Each component of a Apache Cloudberry system (coordinator, standby coordinator, primary segments, and mirror segments) has its own server configuration file (<code>postgresql.conf</code>). The following <code>gp_toolkit</code> objects can be used to check parameter settings across all primary <code>postgresql.conf</code> files in the system:</p>
<ul>
<li><a href="#gp_param_settingparameter_name"><code>gp_param_setting(&#x27;parameter_name&#x27;)</code></a></li>
<li><a href="#gp_param_settings_seg_value_diffs"><code>gp_param_settings_seg_value_diffs</code></a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_param_settingparameter_name">gp_param_setting(&#x27;parameter_name&#x27;)<a href="#gp_param_settingparameter_name" class="hash-link" aria-label="Direct link to gp_param_setting(&#x27;parameter_name&#x27;)" title="Direct link to gp_param_setting(&#x27;parameter_name&#x27;)">​</a></h3>
<p>This function takes the name of a server configuration parameter and returns the <code>postgresql.conf</code> value for the coordinator and each active segment. This function is accessible to all users. The columns of the view are described as follows:</p>
<ul>
<li><code>paramsegment</code>: The segment content id (only active segments are shown). The coordinator content id is always -1.</li>
<li><code>paramname</code>: The name of the parameter.</li>
<li><code>paramvalue</code>: The value of the parameter.</li>
</ul>
<p>Example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">FROM</span><span class="token plain"> gp_toolkit</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">gp_param_setting</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&#x27;max_connections&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_param_settings_seg_value_diffs">gp_param_settings_seg_value_diffs<a href="#gp_param_settings_seg_value_diffs" class="hash-link" aria-label="Direct link to gp_param_settings_seg_value_diffs" title="Direct link to gp_param_settings_seg_value_diffs">​</a></h3>
<p>Server configuration parameters that are classified as <em>local</em> parameters (meaning each segment gets the parameter value from its own <code>postgresql.conf</code> file), should be set identically on all segments. This view shows local parameter settings that are inconsistent. Parameters that are supposed to have different values (such as <code>port</code>) are not included. This view is accessible to all users.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>psdname</code>: The name of the parameter.</li>
<li><code>psdvalue</code>: The value of the parameter.</li>
<li><code>psdcount</code>: The number of segments that have this value.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-for-failed-segments">Check for failed segments<a href="#check-for-failed-segments" class="hash-link" aria-label="Direct link to Check for failed segments" title="Direct link to Check for failed segments">​</a></h2>
<p>The <a href="#gp_pgdatabase_invalid"><code>gp_pgdatabase_invalid</code></a> view can be used to check for down segments.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_pgdatabase_invalid">gp_pgdatabase_invalid<a href="#gp_pgdatabase_invalid" class="hash-link" aria-label="Direct link to gp_pgdatabase_invalid" title="Direct link to gp_pgdatabase_invalid">​</a></h3>
<p>This view shows information about segments that are marked as down in the system catalog. This view is accessible to all users. The columns of the view are described as follows:</p>
<ul>
<li><code>pgdbidbid</code>: The segment dbid. Every segment has a unique dbid.</li>
<li><code>pgdbiisprimary</code>: Is the segment currently acting as the primary (active) segment? (t or f).</li>
<li><code>pgdbicontent</code>: The content id of this segment. A primary and mirror will have the same content id.</li>
<li><code>pgdbivalid</code>: Is this segment up and valid? (t or f).</li>
<li><code>pgdbidefinedprimary</code>: Was this segment assigned the role of primary at system initialization time? (t or f).</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-resource-group-activity-and-status">Check resource group activity and status<a href="#check-resource-group-activity-and-status" class="hash-link" aria-label="Direct link to Check resource group activity and status" title="Direct link to Check resource group activity and status">​</a></h2>
<p>Note</p>
<p>The resource group activity and status views described in this section are valid only when resource group-based resource management is active.</p>
<p>Resource groups manage transactions to avoid exhausting system CPU and memory resources. Every database user is assigned a resource group. Apache Cloudberry evaluates every transaction submitted by a user against the limits configured for the user&#x27;s resource group before running the transaction.</p>
<p>You can use the <code>gp_resgroup_config</code> view to check the configuration of each resource group. You can use the <code>gp_resgroup_status*</code> views to display the current transaction status and resource usage of each resource group.</p>
<ul>
<li><a href="#gp_resgroup_config"><code>gp_resgroup_config</code></a></li>
<li><a href="#gp_resgroup_role"><code>gp_resgroup_role</code></a></li>
<li><a href="#gp_resgroup_status"><code>gp_resgroup_status</code></a></li>
<li><a href="#gp_resgroup_status_per_host"><code>gp_resgroup_status_per_host</code></a></li>
<li><a href="#gp_resgroup_status_per_segment"><code>gp_resgroup_status_per_segment</code></a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_resgroup_config">gp_resgroup_config<a href="#gp_resgroup_config" class="hash-link" aria-label="Direct link to gp_resgroup_config" title="Direct link to gp_resgroup_config">​</a></h3>
<p>The <code>gp_resgroup_config</code> view allows administrators to see the current CPU, memory, and concurrency limits for a resource group.</p>
<p>This view is accessible to all users. The columns of the view are described as follows:</p>
<ul>
<li><code>groupid</code>: The ID of the resource group.</li>
<li><code>groupname</code>: The name of the resource group.</li>
<li><code>concurrency</code>: The concurrency (<code>CONCURRENCY</code>) value specified for the resource group.</li>
<li><code>cpu_max_percent</code>: The CPU limit (<code>CPU_MAX_PERCENT</code>) value specified for the resource group, or <code>-1</code>.</li>
<li><code>cpu_weight</code>: The scheduling priority of the resource group (<code>CPU_WEIGHT</code>).</li>
<li><code>cpuset</code>: The CPU cores reserved for the resource group (CPUSET), or -1.</li>
<li><code>memory_quota</code>: The memory limit value specified for the resource group.</li>
<li><code>min_cost</code>: The minimum cost of a query plan to be included in the resource group (<code>MIN_COST</code>).</li>
<li><code>io_limit</code>: The maximum read/write sequential disk I/O throughput, and the maximum read/write I/O operations per second for the queries assigned to a specific tablespace (shown as the tablespace oid) and resource group (<code>IO_LIMIT</code>).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_resgroup_role">gp_resgroup_role<a href="#gp_resgroup_role" class="hash-link" aria-label="Direct link to gp_resgroup_role" title="Direct link to gp_resgroup_role">​</a></h3>
<p>The <code>gp_resgroup_role</code> view allows administrators to see the resource group assigned to every role.</p>
<p>This view is accessible to all users. The columns of the view are described as follows:</p>
<ul>
<li><code>rrrolname</code>: The name of the role.</li>
<li><code>rrrsgname</code>: The name of the resource group.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_resgroup_status">gp_resgroup_status<a href="#gp_resgroup_status" class="hash-link" aria-label="Direct link to gp_resgroup_status" title="Direct link to gp_resgroup_status">​</a></h3>
<p>The <code>gp_resgroup_status</code> view allows administrators to see status and activity for a resource group. It shows how many queries are waiting to run and how many queries are currently active in the system for each resource group. The view also displays current memory and CPU usage for the resource group.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Resource groups use the Linux control groups (cgroups) configured on the host systems. The cgroups are used to manage host system resources. When resource groups use cgroups that are as part of a nested set of cgroups, resource group limits are relative to the parent cgroup allotment. For information about nested cgroups and Apache Cloudberry resource group limits, see the <em>Use Resource Groups</em> document.</p></div></div>
<p>This view is accessible to all users. The columns of the view are described as follows:</p>
<ul>
<li><code>groupid</code>: The ID of the resource group.</li>
<li><code>groupname</code>: The name of the resource group.</li>
<li><code>num_running</code>: The number of transactions currently running in the resource group.</li>
<li><code>num_queueing</code>: The number of currently queued transactions for the resource group.</li>
<li><code>num_queued</code>: The total number of queued transactions for the resource group since the Apache Cloudberry cluster was last started, excluding the num_queueing.</li>
<li><code>num_executed</code>: The total number of transactions run in the resource group since the Apache Cloudberry cluster was last started, excluding the num_running.</li>
<li><code>total_queue_duration</code>: The total time any transaction was queued since the Apache Cloudberry cluster was last started.</li>
</ul>
<p>Sample output for the <code>gp_resgroup_status</code> view:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">select</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">from</span><span class="token plain"> gp_toolkit</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">gp_resgroup_status</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">groupid </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> groupname </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> num_running </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> num_queueing </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> num_queued </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> num_executed </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> total_queue_duration </span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#8292a2;font-style:italic">---------+-----------+-------------+--------------+------------+--------------+----------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token number" style="color:#ae81ff">0</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">rows</span><span class="token punctuation" style="color:#f8f8f2">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_resgroup_status_per_host">gp_resgroup_status_per_host<a href="#gp_resgroup_status_per_host" class="hash-link" aria-label="Direct link to gp_resgroup_status_per_host" title="Direct link to gp_resgroup_status_per_host">​</a></h3>
<p>The <code>gp_resgroup_status_per_host</code> view displays the real-time CPU and memory usage (MBs) for each resource group on a per-host basis. The view also displays available and granted group fixed and shared memory for each resource group on a host.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>groupid</code>: The ID of the resource group.</li>
<li><code>groupname</code>: The name of the resource group.</li>
<li><code>hostname</code>: The hostname of the segment host.</li>
<li><code>cpu_usage</code>: The real-time CPU core usage by the resource group on a host. The value is the sum of the percentages (as a float value) of the CPU cores that are used by the resource group on the host.</li>
<li><code>memory_usage</code>: The real-time memory usage of the resource group on each database segment&#x27;s host, in MB.</li>
</ul>
<p>Sample output for the <code>gp_resgroup_status_per_host</code> view:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">select</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">from</span><span class="token plain"> gp_toolkit</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">gp_resgroup_status_per_host</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">groupid </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> groupname </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> hostname </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> cpu_usage </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> memory_usage </span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#8292a2;font-style:italic">---------+-----------+----------+-----------+--------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token number" style="color:#ae81ff">0</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">rows</span><span class="token punctuation" style="color:#f8f8f2">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_resgroup_status_per_segment">gp_resgroup_status_per_segment<a href="#gp_resgroup_status_per_segment" class="hash-link" aria-label="Direct link to gp_resgroup_status_per_segment" title="Direct link to gp_resgroup_status_per_segment">​</a></h3>
<p>The <code>gp_toolkit.gp_resgroup_status_per_segment</code> view shows memory usage by resource group on each segment. The statistics are reported by the vmem tracker and measured in MB. This view helps database administrators monitor memory consumption of resource groups across segments.</p>
<p>Note</p>
<p>This view is available only when resource group-based resource management is enabled.</p>
<p>Column descriptions:</p>
<ul>
<li><code>groupid</code> (type: <code>oid</code>): Unique identifier of the resource group, corresponding to <code>pg_resgroup.oid</code>.</li>
<li><code>groupname</code> (type: <code>name</code>): Name of the resource group, corresponding to <code>pg_resgroup.rsgname</code>.</li>
<li><code>segment_id</code> (type: <code>smallint</code>): Content ID of the corresponding segment instance, taken from <code>gp_segment_configuration.content</code>.</li>
<li><code>vmem_usage</code> (type: <code>smallint</code>): Real-time memory usage (in MB) of the resource group on the corresponding segment.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-resource-queue-activity-and-status">Check resource queue activity and status<a href="#check-resource-queue-activity-and-status" class="hash-link" aria-label="Direct link to Check resource queue activity and status" title="Direct link to Check resource queue activity and status">​</a></h2>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The resource queue activity and status views described in this section are valid only when resource queue-based resource management is active.</p></div></div>
<p>The purpose of resource queues is to limit the number of active queries in the system at any given time in order to avoid exhausting system resources such as memory, CPU, and disk I/O. All database users are assigned to a resource queue, and every statement submitted by a user is first evaluated against the resource queue limits before it can run. The <code>gp_resq_*</code> family of views can be used to check the status of statements currently submitted to the system through their respective resource queue. Note that statements issued by superusers are exempt from resource queuing.</p>
<ul>
<li><a href="#gp_resq_activity"><code>gp_resq_activity</code></a></li>
<li><a href="#gp_resq_activity_by_queue"><code>gp_resq_activity_by_queue</code></a></li>
<li><a href="#gp_resq_priority_statement"><code>gp_resq_priority_statement</code></a></li>
<li><a href="#gp_resq_role"><code>gp_resq_role</code></a></li>
<li><a href="#gp_resqueue_status"><code>gp_resqueue_status</code></a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_resq_activity">gp_resq_activity<a href="#gp_resq_activity" class="hash-link" aria-label="Direct link to gp_resq_activity" title="Direct link to gp_resq_activity">​</a></h3>
<p>For the resource queues that have active workload, this view shows one row for each active statement submitted through a resource queue. This view is accessible to all users.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>resqprocpid</code>: Process ID assigned to this statement (on the coordinator).</li>
<li><code>resqrole</code>: User name.</li>
<li><code>resqoid</code>: Resource queue object id.</li>
<li><code>resqname</code>: Resource queue name.</li>
<li><code>resqstart</code>: Time statement was issued to the system.</li>
<li><code>resqstatus</code>: Status of statement: running, waiting or cancelled.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_resq_activity_by_queue">gp_resq_activity_by_queue<a href="#gp_resq_activity_by_queue" class="hash-link" aria-label="Direct link to gp_resq_activity_by_queue" title="Direct link to gp_resq_activity_by_queue">​</a></h3>
<p>For the resource queues that have active workload, this view shows a summary of queue activity. This view is accessible to all users.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>resqoid</code>: Resource queue object id.</li>
<li><code>resqname</code>: Resource queue name.</li>
<li><code>resqlast</code>: Time of the last statement issued to the queue.</li>
<li><code>resqstatus</code>: Status of last statement: running, waiting or cancelled.</li>
<li><code>resqtotal</code>: Total statements in this queue.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_resq_priority_statement">gp_resq_priority_statement<a href="#gp_resq_priority_statement" class="hash-link" aria-label="Direct link to gp_resq_priority_statement" title="Direct link to gp_resq_priority_statement">​</a></h3>
<p>This view shows the resource queue priority, session ID, and other information for all statements currently running in the Apache Cloudberry system. This view is accessible to all users.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>rqpdatname</code>: The database name that the session is connected to.</li>
<li><code>rqpusename</code>: The user who issued the statement.</li>
<li><code>rqpsession</code>: The session ID.</li>
<li><code>rqpcommand</code>: The number of the statement within this session (the command id and session id uniquely identify a statement).</li>
<li><code>rqppriority</code>: The resource queue priority for this statement (<code>MAX</code>, <code>HIGH</code>, <code>MEDIUM</code>, <code>LOW</code>).</li>
<li><code>rqpweight</code>: An integer value associated with the priority of this statement.</li>
<li><code>rqpquery</code>: The query text of the statement.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_resq_role">gp_resq_role<a href="#gp_resq_role" class="hash-link" aria-label="Direct link to gp_resq_role" title="Direct link to gp_resq_role">​</a></h3>
<p>This view shows the resource queues associated with a role. This view is accessible to all users.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>rrrolname</code>: Role (user) name.</li>
<li><code>rrrsqname</code>: The resource queue name assigned to this role. If a role has not been explicitly assigned to a resource queue, it will be in the default resource queue (<em>pg_default</em>).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_resqueue_status">gp_resqueue_status<a href="#gp_resqueue_status" class="hash-link" aria-label="Direct link to gp_resqueue_status" title="Direct link to gp_resqueue_status">​</a></h3>
<p>This view allows administrators to see status and activity for a resource queue. It shows how many queries are waiting to run and how many queries are currently active in the system from a particular resource queue.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>queueid</code>: The ID of the resource queue.</li>
<li><code>rsqname</code>: The name of the resource queue.</li>
<li><code>rsqcountlimit</code>: The active query threshold of the resource queue. A value of -1 means no limit.</li>
<li><code>rsqcountvalue</code>: The number of active query slots currently being used in the resource queue.</li>
<li><code>rsqcostlimit</code>: The query cost threshold of the resource queue. A value of -1 means no limit.</li>
<li><code>rsqcostvalue</code>: The total cost of all statements currently in the resource queue.</li>
<li><code>rsqmemorylimit</code>: The memory limit for the resource queue.</li>
<li><code>rsqmemoryvalue</code>: The total memory used by all statements currently in the resource queue.</li>
<li><code>rsqwaiters</code>: The number of statements currently waiting in the resource queue.</li>
<li><code>rsqholders</code>: The number of statements currently running on the system from this resource queue.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-query-disk-spill-space-usage">Check query disk spill space usage<a href="#check-query-disk-spill-space-usage" class="hash-link" aria-label="Direct link to Check query disk spill space usage" title="Direct link to Check query disk spill space usage">​</a></h2>
<p>The <em>gp_workfile_</em> views show information about all the queries that are currently using disk spill space. Apache Cloudberry creates work files on disk if it does not have sufficient memory to run the query in memory. This information can be used for troubleshooting and tuning queries. The information in the views can also be used to specify the values for the Apache Cloudberry configuration parameters <code>gp_workfile_limit_per_query</code> and <code>gp_workfile_limit_per_segment</code>.</p>
<ul>
<li><a href="#gp_workfile_entries"><code>gp_workfile_entries</code></a></li>
<li><a href="#gp_workfile_usage_per_query"><code>gp_workfile_usage_per_query</code></a></li>
<li><a href="#gp_workfile_usage_per_segment"><code>gp_workfile_usage_per_segment</code></a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_workfile_entries">gp_workfile_entries<a href="#gp_workfile_entries" class="hash-link" aria-label="Direct link to gp_workfile_entries" title="Direct link to gp_workfile_entries">​</a></h3>
<p>This view contains one row for each operator using disk space for workfiles on a segment at the current time. The view is accessible to all users, however non-superusers only to see information for the databases that they have permission to access.</p>
<p>The columns of the view are described as follows:</p>
<table><thead><tr><th>Column</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>datname</code></td><td>name</td><td>Database name.</td></tr><tr><td><code>pid</code></td><td>integer</td><td>Process ID of the server process.</td></tr><tr><td><code>sess_id</code></td><td>integer</td><td>Session ID.</td></tr><tr><td><code>command_cnt</code></td><td>integer</td><td>Command ID of the query.</td></tr><tr><td><code>usename</code></td><td>name</td><td>Role name.</td></tr><tr><td><code>query</code></td><td>text</td><td>Current query that the process is running.</td></tr><tr><td><code>segid</code></td><td>integer</td><td>Segment ID.</td></tr><tr><td><code>slice</code></td><td>integer</td><td>The query plan slice. The portion of the query plan that is being run.</td></tr><tr><td><code>optype</code></td><td>text</td><td>The query operator type that created the work file.</td></tr><tr><td><code>size</code></td><td>bigint</td><td>The size of the work file in bytes.</td></tr><tr><td><code>numfiles</code></td><td>integer</td><td>The number of files created.</td></tr><tr><td><code>prefix</code></td><td>text</td><td>Prefix used when naming a related set of workfiles.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_workfile_usage_per_query">gp_workfile_usage_per_query<a href="#gp_workfile_usage_per_query" class="hash-link" aria-label="Direct link to gp_workfile_usage_per_query" title="Direct link to gp_workfile_usage_per_query">​</a></h3>
<p>This view contains one row for each query using disk space for workfiles on a segment at the current time. The view is accessible to all users, however non-superusers only to see information for the databases that they have permission to access.</p>
<p>The columns of the view are described as follows:</p>
<table><thead><tr><th>Column</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>datname</code></td><td>name</td><td>Database name.</td></tr><tr><td><code>pid</code></td><td>integer</td><td>Process ID of the server process.</td></tr><tr><td><code>sess_id</code></td><td>integer</td><td>Session ID.</td></tr><tr><td><code>command_cnt</code></td><td>integer</td><td>Command ID of the query.</td></tr><tr><td><code>usename</code></td><td>name</td><td>Role name.</td></tr><tr><td><code>query</code></td><td>text</td><td>Current query that the process is running.</td></tr><tr><td><code>segid</code></td><td>integer</td><td>Segment ID.</td></tr><tr><td><code>size</code></td><td>numeric</td><td>The size of the work file in bytes.</td></tr><tr><td><code>numfiles</code></td><td>bigint</td><td>The number of files created.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_workfile_usage_per_segment">gp_workfile_usage_per_segment<a href="#gp_workfile_usage_per_segment" class="hash-link" aria-label="Direct link to gp_workfile_usage_per_segment" title="Direct link to gp_workfile_usage_per_segment">​</a></h3>
<p>This view contains one row for each segment. Each row displays the total amount of disk space used for workfiles on the segment at the current time. The view is accessible to all users, however non-superusers only to see information for the databases that they have permission to access.</p>
<p>The columns of the view are described as follows:</p>
<table><thead><tr><th>Column</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>segid</code></td><td>smallint</td><td>Segment ID.</td></tr><tr><td><code>size</code></td><td>numeric</td><td>The total size of the work files on a segment.</td></tr><tr><td><code>numfiles</code></td><td>bigint</td><td>The number of files created.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="view-users-and-groups-roles">View users and groups (roles)<a href="#view-users-and-groups-roles" class="hash-link" aria-label="Direct link to View users and groups (roles)" title="Direct link to View users and groups (roles)">​</a></h2>
<p>It is frequently convenient to group users (roles) together to ease management of object privileges: that way, privileges can be granted to, or revoked from, a group as a whole. In Apache Cloudberry, this is done by creating a role that represents the group, and then granting membership in the group role to individual user roles.</p>
<p>The <code>references/sys-catalog/gp-toolkit-schema:gp_roles_assigned</code> view can be used to see all of the roles in the system, and their assigned members (if the role is also a group role).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_roles_assigned">gp_roles_assigned<a href="#gp_roles_assigned" class="hash-link" aria-label="Direct link to gp_roles_assigned" title="Direct link to gp_roles_assigned">​</a></h3>
<p>This view shows all of the roles in the system, and their assigned members (if the role is also a group role). This view is accessible to all users.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>raroleid</code>: The role object ID. If this role has members (users), it is considered a <em>group</em> role.</li>
<li><code>rarolename</code>: The role (user or group) name.</li>
<li><code>ramemberid</code>: The role object ID of the role that is a member of this role.</li>
<li><code>ramembername</code>: Name of the role that is a member of this role.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-database-object-sizes-and-disk-space">Check database object sizes and disk space<a href="#check-database-object-sizes-and-disk-space" class="hash-link" aria-label="Direct link to Check database object sizes and disk space" title="Direct link to Check database object sizes and disk space">​</a></h2>
<p>The <code>gp_size_*</code> family of views can be used to determine the disk space usage for a distributed Apache Cloudberry database, schema, table, or index. The following views calculate the total size of an object across all primary segments (mirrors are not included in the size calculations).</p>
<ul>
<li><a href="#gp_size_of_all_table_indexes"><code>gp_size_of_all_table_indexes</code></a></li>
<li><a href="#gp_size_of_database"><code>gp_size_of_database</code></a></li>
<li><a href="#gp_size_of_index"><code>gp_size_of_index</code></a></li>
<li><a href="#gp_size_of_schema_disk"><code>gp_size_of_schema_disk</code></a></li>
<li><a href="#gp_size_of_table_and_indexes_disk"><code>gp_size_of_table_and_indexes_disk</code></a></li>
<li><a href="#gp_size_of_table_and_indexes_licensing"><code>gp_size_of_table_and_indexes_licensing</code></a></li>
<li><a href="#gp_size_of_table_disk"><code>gp_size_of_table_disk</code></a></li>
<li><a href="#gp_size_of_table_uncompressed"><code>gp_size_of_table_uncompressed</code></a></li>
<li><a href="#gp_disk_free"><code>gp_disk_free</code></a></li>
</ul>
<p>The table and index sizing views list the relation by object ID (not by name). To check the size of a table or index by name, you must look up the relation name (<code>relname</code>) in the <code>pg_class</code> table. For example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">SELECT</span><span class="token plain"> relname </span><span class="token keyword" style="color:#66d9ef">as</span><span class="token plain"> name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> sotdsize </span><span class="token keyword" style="color:#66d9ef">as</span><span class="token plain"> size</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> sotdtoastsize </span><span class="token keyword" style="color:#66d9ef">as</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">toast</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> sotdadditionalsize </span><span class="token keyword" style="color:#66d9ef">as</span><span class="token plain"> other </span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">FROM</span><span class="token plain"> gp_size_of_table_disk </span><span class="token keyword" style="color:#66d9ef">as</span><span class="token plain"> sotd</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> pg_class </span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">WHERE</span><span class="token plain"> sotd</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">sotdoid</span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain">pg_class</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">oid </span><span class="token keyword" style="color:#66d9ef">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">BY</span><span class="token plain"> relname</span><span class="token punctuation" style="color:#f8f8f2">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_size_of_all_table_indexes">gp_size_of_all_table_indexes<a href="#gp_size_of_all_table_indexes" class="hash-link" aria-label="Direct link to gp_size_of_all_table_indexes" title="Direct link to gp_size_of_all_table_indexes">​</a></h3>
<p>This view shows the total size of all indexes for a table. This view is accessible to all users, however non-superusers will only be able to see relations that they have permission to access.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>soatioid</code>: The object ID of the table.</li>
<li><code>soatisize</code>: The total size of all table indexes in bytes.</li>
<li><code>soatischemaname</code>: The schema name.</li>
<li><code>soatitablename</code>: The table name.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_size_of_database">gp_size_of_database<a href="#gp_size_of_database" class="hash-link" aria-label="Direct link to gp_size_of_database" title="Direct link to gp_size_of_database">​</a></h3>
<p>This view shows the total size of a database. This view is accessible to all users, however non-superusers will only be able to see databases that they have permission to access.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>sodddatname</code>: The name of the database.</li>
<li><code>sodddatsize</code>: The size of the database in bytes.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_size_of_index">gp_size_of_index<a href="#gp_size_of_index" class="hash-link" aria-label="Direct link to gp_size_of_index" title="Direct link to gp_size_of_index">​</a></h3>
<p>This view shows the total size of an index. This view is accessible to all users, however non-superusers will only be able to see relations that they have permission to access.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>soioid</code>: The object ID of the index.</li>
<li><code>soitableoid</code>: The object ID of the table to which the index belongs.</li>
<li><code>soisize</code>: The size of the index in bytes.</li>
<li><code>soiindexschemaname</code>: The name of the index schema.</li>
<li><code>soiindexname</code>: The name of the index.</li>
<li><code>soitableschemaname</code>: The name of the table schema.</li>
<li><code>soitablename</code>: The name of the table.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_size_of_schema_disk">gp_size_of_schema_disk<a href="#gp_size_of_schema_disk" class="hash-link" aria-label="Direct link to gp_size_of_schema_disk" title="Direct link to gp_size_of_schema_disk">​</a></h3>
<p>This view shows schema sizes for the public schema and the user-created schemas in the current database. This view is accessible to all users, however non-superusers will be able to see only the schemas that they have permission to access.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>sosdnsp</code>: The name of the schema.</li>
<li><code>sosdschematablesize</code>: The total size of tables in the schema in bytes.</li>
<li><code>sosdschemaidxsize</code>: The total size of indexes in the schema in bytes.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_size_of_table_and_indexes_disk">gp_size_of_table_and_indexes_disk<a href="#gp_size_of_table_and_indexes_disk" class="hash-link" aria-label="Direct link to gp_size_of_table_and_indexes_disk" title="Direct link to gp_size_of_table_and_indexes_disk">​</a></h3>
<p>This view shows the size on disk of tables and their indexes. This view is accessible to all users, however non-superusers will only be able to see relations that they have permission to access.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>sotaidoid</code>: The object ID of the parent table.</li>
<li><code>sotaidtablesize</code>: The disk size of the table.</li>
<li><code>sotaididxsize</code>: The total size of all indexes on the table.</li>
<li><code>sotaidschemaname</code>: The name of the schema.</li>
<li><code>sotaidtablename</code>: The name of the table.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_size_of_table_and_indexes_licensing">gp_size_of_table_and_indexes_licensing<a href="#gp_size_of_table_and_indexes_licensing" class="hash-link" aria-label="Direct link to gp_size_of_table_and_indexes_licensing" title="Direct link to gp_size_of_table_and_indexes_licensing">​</a></h3>
<p>This view shows the total size of tables and their indexes for licensing purposes. The use of this view requires superuser permissions.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>sotailoid</code>: The object ID of the table.</li>
<li><code>sotailtablesizedisk</code>: The total disk size of the table.</li>
<li><code>sotailtablesizeuncompressed</code>: If the table is a compressed append-optimized table, shows the uncompressed table size in bytes.</li>
<li><code>sotailindexessize</code>: The total size of all indexes in the table.</li>
<li><code>sotailschemaname</code>: The schema name.</li>
<li><code>sotailtablename</code>: The table name.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_size_of_table_disk">gp_size_of_table_disk<a href="#gp_size_of_table_disk" class="hash-link" aria-label="Direct link to gp_size_of_table_disk" title="Direct link to gp_size_of_table_disk">​</a></h3>
<p>This view shows the size of a table on disk. This view is accessible to all users, however non-superusers will only be able to see tables that they have permission to access. The columns of the view are described as follows:</p>
<ul>
<li><code>sotdoid</code>: The object ID of the table.</li>
<li><code>sotdsize</code>: The size of the table in bytes. The size is only the main table size. The size does not include auxiliary objects such as oversized (toast) attributes, or additional storage objects for AO tables.</li>
<li><code>sotdtoastsize</code>: The size of the TOAST table (oversized attribute storage), if there is one.</li>
<li><code>sotdadditionalsize</code>: Reflects the segment and block directory table sizes for append-optimized (AO) tables.</li>
<li><code>sotdschemaname</code>: The schema name.</li>
<li><code>sotdtablename</code>: The table name.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_size_of_table_uncompressed">gp_size_of_table_uncompressed<a href="#gp_size_of_table_uncompressed" class="hash-link" aria-label="Direct link to gp_size_of_table_uncompressed" title="Direct link to gp_size_of_table_uncompressed">​</a></h3>
<p>This view shows the uncompressed table size for append-optimized (AO) tables. Otherwise, the table size on disk is shown. The use of this view requires superuser permissions. The columns of the view are described as follows:</p>
<ul>
<li><code>sotuoid</code>: The object ID of the table.</li>
<li><code>sotusize</code>: The uncompressed size of the table in bytes if it is a compressed AO table. Otherwise, the table size on disk.</li>
<li><code>sotuschemaname</code>: The schema name.</li>
<li><code>sotutablename</code>: The table name.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_disk_free">gp_disk_free<a href="#gp_disk_free" class="hash-link" aria-label="Direct link to gp_disk_free" title="Direct link to gp_disk_free">​</a></h3>
<p>This external table runs the <code>df</code> (disk free) command on the active segment hosts and reports back the results. Inactive mirrors are not included in the calculation. The use of this external table requires superuser permissions. The columns of the view are described as follows:</p>
<ul>
<li><code>dfsegment</code>: The content id of the segment (only active segments are shown).</li>
<li><code>dfhostname</code>: The hostname of the segment host.</li>
<li><code>dfdevice</code>: The device name.</li>
<li><code>dfspace</code>: Free disk space in the segment file system in kilobytes.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-for-missing-and-orphaned-data-files">Check for missing and orphaned data files<a href="#check-for-missing-and-orphaned-data-files" class="hash-link" aria-label="Direct link to Check for missing and orphaned data files" title="Direct link to Check for missing and orphaned data files">​</a></h2>
<p>Apache Cloudberry considers a relation data file that is present in the catalog, but not on disk, to be missing. Conversely, when Apache Cloudberry encounters an unexpected data file on disk that is not referenced in any relation, it considers that file to be orphaned.</p>
<p>Apache Cloudberry provides the following views to help identify if missing or orphaned files exist in the current database:</p>
<ul>
<li><a href="#gp_move_orphaned_files"><code>gp_move_orphaned_files()</code></a></li>
<li><a href="#gp_check_orphaned_files"><code>gp_check_orphaned_files</code></a></li>
<li><a href="#gp_check_missing_files"><code>gp_check_missing_files</code></a></li>
</ul>
<p>Consider it a best practice to check for these conditions prior to expanding the cluster or before offline maintenance.</p>
<p>By default, the views identified in this section are available to <code>PUBLIC</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_check_orphaned_files">gp_check_orphaned_files<a href="#gp_check_orphaned_files" class="hash-link" aria-label="Direct link to gp_check_orphaned_files" title="Direct link to gp_check_orphaned_files">​</a></h3>
<p>The <code>gp_check_orphaned_files</code> view scans the default and user-defined tablespaces for orphaned data files. Apache Cloudberry considers normal data files, files with an underscore (<code>_</code>) in the name, and extended numbered files (files that contain a <code>.&lt;N&gt;</code> in the name) in this check. <code>gp_check_orphaned_files</code> gathers results from the Apache Cloudberry coordinator and all segments.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>gp_segment_id</code>: The database segment identifier.</li>
<li><code>tablespace</code>: The identifier of the tablespace in which the orphaned file resides.</li>
<li><code>filename</code>: The file name of the orphaned data file.</li>
<li><code>filepath</code>: The file system path of the orphaned data file, relative to the data directory of the coordinator or segment.</li>
</ul>
<p>Caution</p>
<p>Use this view as one of many data points to identify orphaned data files. Do not delete files based solely on results from querying this view.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_check_missing_files">gp_check_missing_files<a href="#gp_check_missing_files" class="hash-link" aria-label="Direct link to gp_check_missing_files" title="Direct link to gp_check_missing_files">​</a></h3>
<p>The <code>gp_check_missing_files</code> view scans heap and append-optimized, column-oriented tables for missing data files. Apache Cloudberry considers only normal data files (files that do not contain a <code>.</code> or an <code>_</code> in the name) in this check. <code>gp_check_missing_files</code> gathers results from the Apache Cloudberry coordinator and all segments.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>gp_segment_id</code>: The database segment identifier.</li>
<li><code>tablespace</code>: The identifier of the tablespace in which the table resides.</li>
<li><code>relname</code>: The name of the table that has a missing data file(s).</li>
<li><code>filename</code>: The file name of the missing data file.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_check_missing_files_ext">gp_check_missing_files_ext<a href="#gp_check_missing_files_ext" class="hash-link" aria-label="Direct link to gp_check_missing_files_ext" title="Direct link to gp_check_missing_files_ext">​</a></h3>
<p>The <code>gp_check_missing_files_ext</code> view scans only append-optimized, column-oriented tables for missing extended data files. Apache Cloudberry considers both normal data files and extended numbered files (files that contain a <code>.&lt;N&gt;</code> in the name) in this check. Files that contain an <code>_</code> in the name are not considered. <code>gp_check_missing_files_ext</code> gathers results from the Apache Cloudberry database segments only.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>gp_segment_id</code>: The database segment identifier.</li>
<li><code>tablespace</code>: The identifier of the tablespace in which the table resides.</li>
<li><code>relname</code>: The name of the table that has a missing extended data file(s).</li>
<li><code>filename</code>: The file name of the missing extended data file.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="move-orphaned-data-files">Move orphaned data files<a href="#move-orphaned-data-files" class="hash-link" aria-label="Direct link to Move orphaned data files" title="Direct link to Move orphaned data files">​</a></h2>
<p>The <code>gp_move_orphaned_files()</code> user-defined function (UDF) moves orphaned files found by the <a href="#gp_check_orphaned_files"><code>gp_check_orphaned_files</code></a> view into a file system location that you specify.</p>
<p>The function signature is: <code>gp_move_orphaned_files( &lt;target_directory&gt; TEXT )</code>.</p>
<p><code>&lt;target_directory&gt;</code> must exist on all segment hosts before you move the files, and the specified directory must be accessible by the <code>gpadmin</code> user. If you specify a relative path for <code>&lt;target_directory&gt;</code>, it is considered relative to the data directory of the coordinator or segment.</p>
<p>Apache Cloudberry renames each moved data file to one that reflects the original location of the file in the data directory. The file name format differs depending on the tablespace in which the orphaned file resides:</p>
<table><thead><tr><th>Tablespace</th><th>Renamed file format</th></tr></thead><tbody><tr><td><code>default</code></td><td><code>seg&lt;num&gt;_base_&lt;database-oid&gt;_&lt;relfilenode&gt;</code></td></tr><tr><td><code>global</code></td><td><code>seg&lt;num&gt;_global_&lt;relfilenode&gt;</code></td></tr><tr><td><code>user-defined</code></td><td><code>seg&lt;num&gt;_pg_tblspc_&lt;tablespace-oid&gt;_&lt;gpdb-version&gt;_&lt;database-oid&gt;_&lt;relfilenode&gt;</code></td></tr></tbody></table>
<p>For example, if a file named <code>12345</code> in the default tablespace is orphaned on primary segment 2,</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">FROM</span><span class="token plain"> gp_move_orphaned_files</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&#x27;/home/gpadmin/orphaned&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>moves and renames the file as follows:</p>
<ul>
<li>original location: <code>&lt;data_directory&gt;/base/13700/12345</code></li>
<li>new location and file name: <code>/home/gpadmin/orphaned/seg2_base_13700_12345</code></li>
</ul>
<p><code>gp_move_orphaned_files()</code> returns both the original and the new file system locations for each file that it moves, and also provides an indication of the success or failure of the move operation. For example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">FROM</span><span class="token plain"> gp_toolkit</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">gp_move_orphaned_files</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&#x27;/home/gpadmin/orphaned&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"> gp_segment_id </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> move_success </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain">           oldpath          </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain">         newpath</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#8292a2;font-style:italic">---------------+--------------+----------------------------+-----------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token operator" style="color:#66d9ef">-</span><span class="token number" style="color:#ae81ff">1</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> t            </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">/</span><span class="token operator" style="color:#66d9ef">&lt;</span><span class="token plain">data_dir</span><span class="token operator" style="color:#66d9ef">&gt;</span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">base</span><span class="token operator" style="color:#66d9ef">/</span><span class="token number" style="color:#ae81ff">13715</span><span class="token operator" style="color:#66d9ef">/</span><span class="token number" style="color:#ae81ff">99999</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">home</span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">gpadmin</span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">orphaned</span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">seg</span><span class="token operator" style="color:#66d9ef">-</span><span class="token number" style="color:#ae81ff">1</span><span class="token plain">_base_13715_99999</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">             </span><span class="token number" style="color:#ae81ff">1</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> t            </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">/</span><span class="token operator" style="color:#66d9ef">&lt;</span><span class="token plain">data_dir</span><span class="token operator" style="color:#66d9ef">&gt;</span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">base</span><span class="token operator" style="color:#66d9ef">/</span><span class="token number" style="color:#ae81ff">13715</span><span class="token operator" style="color:#66d9ef">/</span><span class="token number" style="color:#ae81ff">99999</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">home</span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">gpadmin</span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">orphaned</span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">seg1_base_13715_99999</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">             </span><span class="token number" style="color:#ae81ff">2</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> t            </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">/</span><span class="token operator" style="color:#66d9ef">&lt;</span><span class="token plain">data_dir</span><span class="token operator" style="color:#66d9ef">&gt;</span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">base</span><span class="token operator" style="color:#66d9ef">/</span><span class="token number" style="color:#ae81ff">13715</span><span class="token operator" style="color:#66d9ef">/</span><span class="token number" style="color:#ae81ff">99999</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">|</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">home</span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">gpadmin</span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">orphaned</span><span class="token operator" style="color:#66d9ef">/</span><span class="token plain">seg2_base_13715_99999</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token number" style="color:#ae81ff">3</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">rows</span><span class="token punctuation" style="color:#f8f8f2">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Once you move the files, you may choose to remove them or to back them up.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-for-uneven-data-distribution">Check for uneven data distribution<a href="#check-for-uneven-data-distribution" class="hash-link" aria-label="Direct link to Check for uneven data distribution" title="Direct link to Check for uneven data distribution">​</a></h2>
<p>All tables in Apache Cloudberry are distributed, meaning their data is divided across all of the segments in the system. If the data is not distributed evenly, then query processing performance may decrease. The following views can help diagnose if a table has uneven data distribution:</p>
<ul>
<li><a href="#gp_skew_coefficients"><code>gp_toolkit.gp_skew_coefficients</code></a></li>
<li><a href="#gp_skew_idle_fractions"><code>gp_toolkit.gp_skew_idle_fractions</code></a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_skew_coefficients">gp_skew_coefficients<a href="#gp_skew_coefficients" class="hash-link" aria-label="Direct link to gp_skew_coefficients" title="Direct link to gp_skew_coefficients">​</a></h3>
<p>This view shows data distribution skew by calculating the coefficient of variation (CV) for the data stored on each segment. This view is accessible to all users, however non-superusers will only be able to see tables that they have permission to access.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>skcoid</code>: The object id of the table.</li>
<li><code>skcnamespace</code>: The namespace where the table is defined.</li>
<li><code>skcrelname</code>: The table name.</li>
<li><code>skccoeff</code>: The coefficient of variation (CV) is calculated as the standard deviation divided by the average. It takes into account both the average and variability around the average of a data series. The lower the value, the better. Higher values indicate greater data skew.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gp_skew_idle_fractions">gp_skew_idle_fractions<a href="#gp_skew_idle_fractions" class="hash-link" aria-label="Direct link to gp_skew_idle_fractions" title="Direct link to gp_skew_idle_fractions">​</a></h3>
<p>This view shows data distribution skew by calculating the percentage of the system that is idle during a table scan, which is an indicator of processing data skew. This view is accessible to all users, however non-superusers will only be able to see tables that they have permission to access.</p>
<p>The columns of the view are described as follows:</p>
<ul>
<li><code>sifoid</code>: The object id of the table.</li>
<li><code>sifnamespace</code>: The namespace where the table is defined.</li>
<li><code>sifrelname</code>: The table name.</li>
<li><code>siffraction</code>: The percentage of the system that is idle during a table scan, which is an indicator of uneven data distribution or query processing skew. For example, a value of <code>0.1</code> indicates 10% skew, a value of <code>0.5</code> indicates 50% skew, and so on. Tables that have more than 10% skew should have their distribution policies evaluated.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="maintain-partitions">Maintain partitions<a href="#maintain-partitions" class="hash-link" aria-label="Direct link to Maintain partitions" title="Direct link to Maintain partitions">​</a></h2>
<p>If your database employs partitions you will need to perform certain tasks regularly to help maintain those partitions. Apache Cloudberry includes a view and a number of user-defined functions to help with these tasks.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-gp_partitions-view">The gp_partitions view<a href="#the-gp_partitions-view" class="hash-link" aria-label="Direct link to The gp_partitions view" title="Direct link to The gp_partitions view">​</a></h3>
<p>The <code>gp_partitions</code> view shows all leaf partitions in a database.</p>
<p>This view provides backwards compatibility with the legacy <code>pg_partitions</code> view (available in earlier major versions of Apache Cloudberry). The columns of the view are described as follows:</p>
<table><thead><tr><th>Column</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>schemaname</code></td><td>name</td><td>The name of the schema the partitioned table is in.</td></tr><tr><td><code>tablename</code></td><td>name</td><td>The name of the top-level parent table.</td></tr><tr><td><code>partitionschemaname</code></td><td>name</td><td>The schema of the partition table.</td></tr><tr><td><code>partitiontablename</code></td><td>name</td><td>The relation name of the partitioned table (this is the table name to use if accessing the partition directly).</td></tr><tr><td><code>parentpartitiontablename</code></td><td>regclass</td><td>The relation name of the parent table one level up from this partition.</td></tr><tr><td><code>partitiontype</code></td><td>text</td><td>The type of partition (range or list).</td></tr><tr><td><code>partitionlevel</code></td><td>integer</td><td>The level of this partition in the hierarchy.</td></tr><tr><td><code>partitionrank</code></td><td>integer</td><td>For range partitions, the rank of the partition compared to other partitions of the same level.</td></tr><tr><td><code>partitionlistvalues</code></td><td>text</td><td>For list partitions, the list value(s) associated with this partition.</td></tr><tr><td><code>partitionrangestart</code></td><td>text</td><td>For range partitions, the start value of this partition.</td></tr><tr><td><code>partitionrangeend</code></td><td>text</td><td>For range partitions, the end value of this partition.</td></tr><tr><td><code>partitionisdefault</code></td><td>boolean</td><td>T if this is a default partition, otherwise F.</td></tr><tr><td><code>partitionboundary</code></td><td>text</td><td>The entire partition specification for this partition.</td></tr><tr><td><code>parenttablespace</code></td><td>name</td><td>The tablespace of the parent table one level up from this partition.</td></tr><tr><td><code>partitiontablespace</code></td><td>name</td><td>The tablespace of this partition.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-defined-functions-for-partition-maintenance">User-defined functions for partition maintenance<a href="#user-defined-functions-for-partition-maintenance" class="hash-link" aria-label="Direct link to User-defined functions for partition maintenance" title="Direct link to User-defined functions for partition maintenance">​</a></h3>
<p>The following table summarizes the functions Apache Cloudberry provides to help you maintain partitions:</p>
<table><thead><tr><th>Function</th><th>Return type</th><th>Description</th></tr></thead><tbody><tr><td><code>pg_partition_rank(rp regclass)</code></td><td>integer</td><td>For range partitions, returns the rank of the partition compared to other partitions of the same level. For other partition types, it returns <code>NULL</code>.</td></tr><tr><td><code>pg_partition_range_from(rp regclass)</code></td><td>text</td><td>Returns the lower bound of a range partition.</td></tr><tr><td><code>pg_partition_range_to(rp regclass)</code></td><td>text</td><td>Returns the upper bound of a range partition.</td></tr><tr><td><code>pg_partition_isdefault(rp regclass)</code></td><td>boolean</td><td>Evaluates whether a given partition is a default partition.</td></tr><tr><td><code>pg_partition_lowest_child(rp regclass)</code></td><td>regclass</td><td>Finds the lowest ranked child of given partition.</td></tr><tr><td><code>pg_partition_highest_child(rp regclass)</code></td><td>regclass</td><td>Finds the highest ranked child of given partition.</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/cloudberry-site/edit/main/versioned_docs/version-2.x/sys-catalogs/gp_toolkit.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_VsjB"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-06-05T07:20:44.000Z">Jun 5, 2025</time></b> by <b>Dianjin Wang</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/sys-catalogs/sys-views/pg-stat-progress-create-index"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label single-line-overflow hide-before-after">pg_stat_progress_create_index</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/releases/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label single-line-overflow hide-before-after">Releases</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#about-the-extension" class="table-of-contents__link toc-highlight">About the extension</a></li><li><a href="#upgrade-the-extension" class="table-of-contents__link toc-highlight">Upgrade the extension</a></li><li><a href="#check-for-tables-that-need-routine-maintenance" class="table-of-contents__link toc-highlight">Check for tables that need routine maintenance</a></li><li><a href="#check-for-locks" class="table-of-contents__link toc-highlight">Check for locks</a></li><li><a href="#check-append-optimized-tables" class="table-of-contents__link toc-highlight">Check append-optimized tables</a></li><li><a href="#view-server-log-files" class="table-of-contents__link toc-highlight">View server log files</a></li><li><a href="#check-server-configuration-files" class="table-of-contents__link toc-highlight">Check server configuration files</a></li><li><a href="#check-for-failed-segments" class="table-of-contents__link toc-highlight">Check for failed segments</a></li><li><a href="#check-resource-group-activity-and-status" class="table-of-contents__link toc-highlight">Check resource group activity and status</a></li><li><a href="#check-resource-queue-activity-and-status" class="table-of-contents__link toc-highlight">Check resource queue activity and status</a></li><li><a href="#check-query-disk-spill-space-usage" class="table-of-contents__link toc-highlight">Check query disk spill space usage</a></li><li><a href="#view-users-and-groups-roles" class="table-of-contents__link toc-highlight">View users and groups (roles)</a></li><li><a href="#check-database-object-sizes-and-disk-space" class="table-of-contents__link toc-highlight">Check database object sizes and disk space</a></li><li><a href="#check-for-missing-and-orphaned-data-files" class="table-of-contents__link toc-highlight">Check for missing and orphaned data files</a></li><li><a href="#move-orphaned-data-files" class="table-of-contents__link toc-highlight">Move orphaned data files</a></li><li><a href="#check-for-uneven-data-distribution" class="table-of-contents__link toc-highlight">Check for uneven data distribution</a></li><li><a href="#maintain-partitions" class="table-of-contents__link toc-highlight">Maintain partitions</a></li></ul></div></div></div></div></main></div></div></div><div class="wrap_QlFE"><div class="mainWrap_IbWk"><div class="linksWrap_Zcc4"><div><div class="footerLinkTitle_PxTg">Support</div><div class="footerLinkItem_Kf4k"><a href="https://github.com/apache/cloudberry/issues" target="_blank" rel="noopener noreferrer">GitHub Issues</a></div><div class="footerLinkItem_Kf4k"><a href="https://github.com/apache/cloudberry/discussions" target="_blank" rel="noopener noreferrer">GitHub Discussions</a></div><div class="footerLinkItem_Kf4k"><a href="https://inviter.co/apache-cloudberry" target="_blank" rel="noopener noreferrer">Slack</a></div><div class="footerLinkItem_Kf4k"><a href="https://x.com/ASFCloudberry" target="_blank" rel="noopener noreferrer">Twitter</a></div><div class="footerLinkItem_Kf4k"><a href="https://youtube.com/@ApacheCloudberry" target="_blank" rel="noopener noreferrer">Youtube</a></div><div class="footerLinkItem_Kf4k"><a target="_self" href="/community/security">Security</a></div></div><div><div class="footerLinkTitle_PxTg">Resources</div><div class="footerLinkItem_Kf4k"><a href="https://github.com/apache/cloudberry/releases" target="_blank" rel="noopener noreferrer">Download</a></div><div class="footerLinkItem_Kf4k"><a target="_self" href="/docs/">Documentation</a></div><div class="footerLinkItem_Kf4k"><a target="_self" href="/community/events">Events</a></div><div class="footerLinkItem_Kf4k"><a href="/community/brand" target="_blank">Brand Guidelines</a></div></div><div><div class="footerLinkTitle_PxTg">Contribution</div><div class="footerLinkItem_Kf4k"><a target="_self" href="/contribute/git">Working with Git &amp; GitHub</a></div><div class="footerLinkItem_Kf4k"><a target="_self" href="/contribute/how-to-contribute">Contribution Overview</a></div><div class="footerLinkItem_Kf4k"><a target="_self" href="/contribute/code">Code Contribution</a></div><div class="footerLinkItem_Kf4k"><a target="_self" href="/contribute/doc">Doc Contribution</a></div></div></div><div class="logoLinkWrap_MDp5"><div class="logoWrap_qcVI"><img class="logo_cphB" src="/img/apache-incubator.svg" alt=""></div><div class="links_yA93"><svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="item_KKoc" cursor="pointer"><path d="M15.002 0c-8.288 0-15 6.713-15 15 0 6.637 4.293 12.244 10.256 14.231.75.131 1.031-.319 1.031-.712 0-.356-.019-1.538-.019-2.794-3.769.694-4.744-.919-5.044-1.763-.168-.43-.9-1.762-1.537-2.118-.525-.282-1.275-.975-.019-.994 1.181-.019 2.025 1.087 2.306 1.537 1.35 2.27 3.507 1.632 4.37 1.238.13-.975.524-1.631.956-2.006-3.338-.375-6.826-1.669-6.826-7.406 0-1.632.582-2.982 1.538-4.032-.15-.375-.675-1.912.15-3.975 0 0 1.256-.394 4.125 1.538 1.2-.338 2.475-.506 3.75-.506s2.55.168 3.75.506c2.869-1.95 4.125-1.538 4.125-1.538.825 2.063.3 3.6.15 3.975.956 1.05 1.538 2.382 1.538 4.032 0 5.756-3.507 7.03-6.844 7.406.544.468 1.012 1.369 1.012 2.775 0 2.006-.018 3.619-.018 4.125 0 .394.28.862 1.03.712A15.024 15.024 0 0 0 30.003 15c0-8.287-6.713-15-15-15Z"></path></svg><svg width="32" height="26" viewBox="0 0 32 26" fill="none" xmlns="http://www.w3.org/2000/svg" class="item_KKoc" cursor="pointer"><path d="M31.319 3.484c-1.145.507-2.36.84-3.603.987a6.293 6.293 0 0 0 2.758-3.47 12.518 12.518 0 0 1-3.983 1.52A6.274 6.274 0 0 0 15.64 6.815c0 .493.056.97.161 1.43a17.811 17.811 0 0 1-12.93-6.555 6.252 6.252 0 0 0-.85 3.154 6.272 6.272 0 0 0 2.791 5.222 6.253 6.253 0 0 1-2.841-.785l-.001.077a6.277 6.277 0 0 0 5.033 6.153 6.305 6.305 0 0 1-2.834.108 6.278 6.278 0 0 0 5.86 4.356 12.59 12.59 0 0 1-7.79 2.686c-.5 0-1-.03-1.497-.088a17.746 17.746 0 0 0 9.616 2.818c11.54 0 17.849-9.559 17.849-17.848 0-.272-.007-.544-.019-.812a12.746 12.746 0 0 0 3.13-3.246Z"></path></svg><svg width="30" height="24" viewBox="0 0 30 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="item_KKoc" cursor="pointer"><path d="M15.366 0c.801.004 2.805.024 4.935.11l.755.032c2.145.102 4.287.275 5.35.571 1.417.398 2.53 1.56 2.907 3.033.6 2.339.675 6.903.684 8.008l.002.229v.032l-.002.229c-.009 1.104-.084 5.669-.684 8.008-.381 1.478-1.495 2.64-2.907 3.032-1.063.297-3.205.47-5.35.571l-.755.033c-2.13.086-4.134.105-4.935.11h-.734c-1.696-.01-8.785-.087-11.04-.714-1.418-.398-2.532-1.56-2.908-3.032-.6-2.34-.675-6.904-.684-8.008v-.49c.01-1.105.084-5.67.684-8.008.382-1.478 1.496-2.64 2.908-3.033C5.847.086 12.936.01 14.632 0h.734Zm-3.367 6.749v10.5l9-5.25-9-5.25Z"></path></svg><svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="item_KKoc" cursor="pointer"><path d="M6.791 18.77a2.959 2.959 0 0 1-2.952 2.952 2.959 2.959 0 0 1-2.951-2.951 2.959 2.959 0 0 1 2.951-2.952h2.952v2.952Zm1.487 0a2.959 2.959 0 0 1 2.952-2.951 2.959 2.959 0 0 1 2.952 2.952v7.39a2.959 2.959 0 0 1-2.952 2.952 2.959 2.959 0 0 1-2.952-2.952v-7.39ZM11.23 6.792A2.959 2.959 0 0 1 8.278 3.84 2.959 2.959 0 0 1 11.23.888a2.959 2.959 0 0 1 2.952 2.951v2.952H11.23Zm0 1.487a2.959 2.959 0 0 1 2.952 2.952 2.959 2.959 0 0 1-2.952 2.952H3.84A2.959 2.959 0 0 1 .887 11.23a2.959 2.959 0 0 1 2.951-2.952h7.391Zm11.98 2.952a2.959 2.959 0 0 1 2.951-2.952 2.959 2.959 0 0 1 2.952 2.952 2.959 2.959 0 0 1-2.952 2.952H23.21V11.23Zm-1.488 0a2.959 2.959 0 0 1-2.951 2.952 2.959 2.959 0 0 1-2.952-2.952V3.84A2.959 2.959 0 0 1 18.771.887a2.959 2.959 0 0 1 2.951 2.951v7.391Zm-2.951 11.98a2.959 2.959 0 0 1 2.951 2.951 2.959 2.959 0 0 1-2.951 2.952 2.959 2.959 0 0 1-2.952-2.952V23.21h2.952Zm0-1.488a2.959 2.959 0 0 1-2.952-2.951 2.959 2.959 0 0 1 2.952-2.952h7.39a2.959 2.959 0 0 1 2.952 2.952 2.959 2.959 0 0 1-2.952 2.951h-7.39Z"></path></svg><svg width="28" height="30" viewBox="0 0 28 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="item_KKoc" cursor="pointer"><path d="M22.48 4.286H5.195c-.845 0-1.52.724-1.52 1.568v18.579c0 .844.675 1.568 1.52 1.568h17.283c.845 0 1.52-.724 1.52-1.568V5.854c0-.844-.675-1.568-1.52-1.568Z"></path><path d="M6.233 12.156h3.081v10.756H6.233V12.156Zm1.57-5.315c.988 0 1.802.875 1.802 1.938s-.814 1.939-1.803 1.939C6.814 10.718 6 9.842 6 8.779c0-1.063.814-1.938 1.802-1.938Zm3.488 5.315h2.965v1.439h.058c.407-.876 1.453-1.751 2.965-1.751 3.14 0 3.721 2.25 3.721 5.127v5.879h-3.081v-5.253c0-1.25 0-2.877-1.628-2.877s-1.86 1.376-1.86 2.752v5.315h-3.082v-10.63h-.058Z" fill="#000"></path></svg><svg width="34" height="28" viewBox="0 0 34 28" fill="none" xmlns="http://www.w3.org/2000/svg" class="item_KKoc" cursor="pointer"><path d="M26.863 16.567c.748 0 1.347-.636 1.347-1.347 0-.748-.599-1.347-1.347-1.347s-1.347.599-1.347 1.347.599 1.347 1.347 1.347Zm-6.639 0c.749 0 1.347-.636 1.347-1.347 0-.748-.598-1.347-1.347-1.347-.748 0-1.346.599-1.346 1.347s.598 1.347 1.346 1.347Zm9.852 7.56a.52.52 0 0 0-.258.553c0 .074 0 .148.036.221.148.627.442 1.622.442 1.66 0 .11.037.184.037.257a.33.33 0 0 1-.331.332c-.074 0-.11-.037-.184-.074l-2.174-1.253c-.147-.074-.331-.147-.516-.147-.11 0-.22 0-.294.037-1.032.294-2.1.442-3.242.442-5.49 0-9.91-3.687-9.91-8.258 0-4.57 4.42-8.257 9.91-8.257 5.489 0 9.91 3.686 9.91 8.257 0 2.47-1.327 4.719-3.427 6.23ZM24.01 8.147a13.662 13.662 0 0 0-.418-.007c-6.262 0-11.41 4.29-11.41 9.757 0 .83.119 1.634.342 2.4h-.133c-1.33 0-2.659-.221-3.877-.553-.111-.037-.222-.037-.333-.037-.221 0-.443.074-.627.185L4.932 21.4a.525.525 0 0 1-.221.074.409.409 0 0 1-.406-.405c0-.11.036-.184.073-.294.037-.037.37-1.251.554-1.987 0-.074.037-.184.037-.258a.834.834 0 0 0-.332-.662C2.089 16.065.5 13.378.5 10.398.501 4.916 5.855.5 12.428.5 18.073.5 22.82 3.753 24.01 8.146Zm-7.73.627c.859 0 1.54-.716 1.54-1.54 0-.858-.681-1.539-1.54-1.539-.86 0-1.54.68-1.54 1.54 0 .859.68 1.54 1.54 1.54Zm-7.89 0c.86 0 1.54-.716 1.54-1.54 0-.858-.68-1.539-1.54-1.539-.859 0-1.539.68-1.539 1.54 0 .859.68 1.54 1.54 1.54Z"></path></svg></div></div></div><div class="copyrightWrap_yPz7"><div class="copyright_AoBa">
      <p>
        Apache Cloudberry is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
      </p>
      <p>
        Copyright © 2025 The Apache Software Foundation, Licensed under the Apache License, Version 2.0.</p>
      <p>
        Apache®, the names of Apache projects, and the feather logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and/or other countries.
      </p>
      </div></div></div></div>
</body>
</html>